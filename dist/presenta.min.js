!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Presenta=t()}(this,(function(){"use strict";function e(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}e(':root{--fontHeading:Georgia,"Times New Roman",Times,serif;--fontText:"Trebuchet MS","Lucida Sans Unicode","Lucida Grande","Lucida Sans",Arial,sans-serif;--colorBack:#fff;--colorFore:#000;--colorAccent:#444;--colorAlt:#ddd;--blockWeight:1;--blockPadding:0;--blockOpacity:1;--blockBlend:unset;--scenePadding:0;--sceneColorBack:#fff}.presenta *{box-sizing:border-box}.presenta{--presenta-pw:960;--presenta-w:960px;--presenta-h:540px;--presenta-vp:960;--presenta-fz:1;--presenta-p:calc(var(--presenta-pw)/var(--presenta-vp));position:relative}');var t="style_arrows__2J_-T",n="style_inner__1f-jA",o="style_vertical__2l0YR",r="style_left__199CL",s="style_right__2Bn_p",i="style_ui__1jWCU",a="style_hide__4RZI1";e(":root{--arrowsOpacity:.5;--arrowsFlexAlign:center;--arrowsFlexJustify:space-between;--arrowsPadding:10px;--arrowsDirection:row}.style_arrows__2J_-T{height:100%;left:0;position:absolute;top:0;transition:opacity .35s;width:100%;z-index:100}.style_inner__1f-jA{color:var(--colorFore);display:flex;flex-direction:var(--arrowsDirection);height:100%;justify-content:var(--arrowsFlexJustify);width:100%}.style_vertical__2l0YR .style_inner__1f-jA{flex-direction:column}.style_left__199CL,.style_right__2Bn_p{align-items:var(--arrowsFlexAlign);cursor:pointer;display:flex;height:100%;justify-content:center;padding:var(--arrowsPadding);pointer-events:all}.style_vertical__2l0YR .style_left__199CL,.style_vertical__2l0YR .style_right__2Bn_p{height:unset}.style_ui__1jWCU{height:24px;pointer-events:none;transition:background-color .3s ease-in-out;width:24px}.style_ui__1jWCU circle{stroke:none;fill:var(--colorBack);opacity:var(--arrowsOpacity)}.style_hide__4RZI1{opacity:0}");const l=(e,t)=>{if(0!==e.indexOf("_"))return t},c=e=>"uid"+JSON.stringify(e,l).split("").reduce(((e,t)=>(e=(e<<5)-e+t.charCodeAt(0))&e),0);var d=e=>"string"==typeof e?document.querySelector(e):e,_=(e,t,n)=>{let o="";for(var r in n)t.indexOf(r)>=0&&(o+="--"+e+((s=r).charAt(0).toUpperCase()+s.slice(1)+":")+n[r]+";");var s;return o},p=e=>{const t=c(e);if(document.querySelector("."+t))return t;const n=e.split(".").pop(),o=n&&"ttf"!==n?`format("${n}")`:"",r=document.createElement("style");return r.classList.add(t),r.innerHTML=`\n  @font-face {\n    font-family: "${t}";\n    src: url("${e}") ${o};\n  }`,document.head.appendChild(r),t},u=e=>(new DOMParser).parseFromString(e,"text/html").body.childNodes[0],h=(e,t,n)=>{const o=getComputedStyle(e),r=+o.width.split("px")[0],s=+o.height.split("px")[0],i=r/s;n.style.setProperty("--presenta-h",parseInt(960/i)+"px");const a=960/i,l=96e3/r,c=100*a/s,d=Math.max(l,c);let _="landscape";960<a&&(_="portrait"),n.classList.add(_),t._orientation=_,n.style.setProperty("--presenta-fz",1/(100/d))},y={};const f=["opacity","direction","flexAlign","flexJustify","padding"];var v="style_black__3Nszx";e(".style_black__3Nszx{background-color:#000;height:100%;left:0;opacity:0;pointer-events:none;position:absolute;top:0;transition:opacity .5s cubic-bezier(.8,.2,.2,.8);width:100%;z-index:999999}");var m="style_progressbar__37EFM",g="style_bar__3nLkk";e(":root{--progressbarHeight:5px;--progressbarBottom:initial}.style_progressbar__37EFM{--progressbarColor:var(--colorFore);height:100%;pointer-events:none;width:100%}.style_bar__3nLkk{background-color:var(--progressbarColor);bottom:var(--progressbarBottom);height:var(--progressbarHeight);left:0;position:absolute;transition:width .5s cubic-bezier(.8,.2,.2,.8);width:0}");const x=["height","bottom","color"];var b="style_limitswitch__3g8Lq",w="style_signalSet__GRA42",k="style_signalOut__2qd5k";e(".style_limitswitch__3g8Lq{background-color:var(--colorAccent);height:100%;left:0;opacity:0;pointer-events:none;position:absolute;top:0;width:100%}.style_signalSet__GRA42{opacity:.75}.style_signalOut__2qd5k{opacity:0;transition:opacity .35s ease-out}");var z="style_sync__2HAFR";e(".style_sync__2HAFR{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}");e(".transition__fadeIn .p-scene-enter-transition{transition:opacity .75s cubic-bezier(.2,.8,.05,.95)}.transition__fadeIn .to-right.p-scene-enter-start{opacity:0;transform:translate(0)}.transition__fadeIn .to-right.p-scene-enter-end{opacity:1}.transition__fadeIn .to-left.p-scene-enter-start{opacity:0;transform:translate(0)}.transition__fadeIn .to-left.p-scene-enter-end{opacity:1}");e(".transition__hSlide .p-scene-enter-transition{transition:transform .75s cubic-bezier(.87,0,.13,1)}.transition__hSlide .to-right.p-scene-enter-start{transform:translateX(100%)}.transition__hSlide .to-right.p-scene-enter-end{transform:translateX(0)}.transition__hSlide .to-left.p-scene-enter-start{transform:translateX(-100%)}.transition__hSlide .to-left.p-scene-enter-end{transform:translateX(0)}.transition__hSlide .p-scene-leave-transition{transition:transform .75s cubic-bezier(.87,0,.13,1)}.transition__hSlide .to-right.p-scene-leave-start{transform:translateX(0)}.transition__hSlide .to-right.p-scene-leave-end{transform:translateX(-100%)}.transition__hSlide .to-left.p-scene-leave-start{transform:translateX(0)}.transition__hSlide .to-left.p-scene-leave-end{transform:translateX(100%)}");e(".transition__vSlide .p-scene-enter-transition{transition:transform .75s cubic-bezier(.87,0,.13,1)}.transition__vSlide .to-right.p-scene-enter-start{transform:translateY(100%)}.transition__vSlide .to-right.p-scene-enter-end{transform:translateY(0)}.transition__vSlide .to-left.p-scene-enter-start{transform:translateY(-100%)}.transition__vSlide .to-left.p-scene-enter-end{transform:translateY(0)}.transition__vSlide .p-scene-leave-transition{transition:transform .75s cubic-bezier(.87,0,.13,1)}.transition__vSlide .to-right.p-scene-leave-start{transform:translateY(0)}.transition__vSlide .to-right.p-scene-leave-end{transform:translateY(-100%)}.transition__vSlide .to-left.p-scene-leave-start{transform:translateY(0)}.transition__vSlide .to-left.p-scene-leave-end{transform:translateY(100%)}");e(".transition__slideOver .p-scene-enter-transition{transition:all .75s cubic-bezier(.2,.8,.05,.95)}.transition__slideOver .p-scene-enter-start{transform:translateY(-150%)}.transition__slideOver .p-scene-enter-end{transform:translateY(0)}.transition__slideOver .p-scene-leave-transition{transition:all .75s cubic-bezier(.2,.8,.05,.95)}.transition__slideOver .p-scene-leave-start{transform:scale(1)}.transition__slideOver .p-scene-leave-end{transform:scale(.5)}");const j=["fadeIn","hSlide","vSlide","slideOver"],C={keyboard:function(e,t,n,o){e.parentNode.addEventListener("keyup",(e=>{"ArrowRight"!==e.key&&"ArrowDown"!==e.key||(t.next(),e.stopPropagation(),e.preventDefault()),"ArrowLeft"!==e.key&&"ArrowUp"!==e.key||(t.prev(),e.stopPropagation(),e.preventDefault())}))},arrows:function(e,l,c,d){let p=null,h=0;const y="vertical"===c.direction?o:"",v=_("arrows",f,c),m=y?'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line></svg>':'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line></svg>',g=y?'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-down-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line></svg>':'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line></svg>',x=u(`<div class="${t} ${y}"></div>`),b=u(`<div class="${n}" style="${v}"></div>`),w=u(`<div id="evt_trg_ctrl_arrow_left" class="${r}">\n    <div class="${i}">${m}</div>\n  </div>`);b.appendChild(w);const k=u(`<div id="evt_trg_ctrl_arrow_right" class="${s}">\n    <div class="${i}">${g}</div>\n  </div>`);b.appendChild(k),x.appendChild(b),e.appendChild(x),w.addEventListener("click",(e=>{l.prev(),j()})),k.addEventListener("click",(e=>{l.next(),j()}));const z=t=>{h++,2===h&&e.parentNode.addEventListener("mousemove",(e=>{j()})),w.style.visibility="visible",k.style.visibility="visible",t.isFirst&&(w.style.visibility="hidden"),t.isLast&&t.totalSteps===t.currentStep&&(k.style.visibility="hidden")};l.on("stepChanged",(e=>{z(e)})),l.on("indexChanged",(e=>{z(e)})),l.on("inited",(e=>{z(e)}));const j=()=>{clearTimeout(p),x.classList.remove(a),p=setTimeout((()=>{x.classList.add(a)}),1500)};this._el=x},black:function(e,t,n,o){let r=!1;const s=u(`<div class="${v}"></div>`);e.appendChild(s);const i=n.key||"b";e.parentNode.addEventListener("keyup",(e=>{e.key===i&&(r=!r,s.style.opacity=r?1:0,e.stopPropagation(),e.preventDefault())}))},fullscreen:function(e,t,n,o){const r=n.key||"f",s=e.parentNode,i=s.parentNode,a=()=>{var e;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():(e=i).requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullscreen&&e.msRequestFullscreen()};this.toggle=a,t.on("toggleFullscreen",a),s.addEventListener("keyup",(e=>{e.key===r&&(a(),e.stopPropagation(),e.preventDefault())}))},focus:function(e,t,n,o){const r=e.parentNode;new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&r.focus({preventScroll:!0})}))})).observe(r)},progressbar:function(e,t,n,o){if("preview"===o.mode)return;const r=_("progressbar",x,n),s=u(`<div class="${m}" style="${r}"></div>`),i=u(`<div class="${g}"></div>`);s.appendChild(i),e.appendChild(s);const a=o.scenes.length;t.on("indexChanged",(e=>{(e=>{const t=(e.currentIndex+1)/a*100;i.style.width=t+"%"})(e)}))},shuffle:function(e,t,n,o){(e=>{for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}})(o.scenes)},loop:function(e,t,n,o){t.on("end",(e=>{t.goto(0)}))},current:function(e,t,n,o){const r=n&&n>0&&n<=o.scenes.length?n-1:0;t.setCurrentIndex(r)},hidecursor:function(e,t,n,o){e.parentNode.style.cursor="none"},hidden:function(e,t,n,o){const r=[],s=o.scenes;s.forEach(((e,t)=>{const n=e.blocks,o=[];e.hidden?r.push(t):n.forEach(((e,t)=>{e.hidden&&o.push(t)}));for(var s=n.length-1;s>=0;s--)o.indexOf(s)>=0&&n.splice(s,1)}));for(var i=s.length-1;i>=0;i--)r.indexOf(i)>=0&&s.splice(i,1)},limitswitch:function(e,t,n,o){let r,s;const i=u(`<div class="${b}"></div>`);e.appendChild(i);const a=()=>{clearTimeout(r),clearTimeout(s),i.classList.remove(w,k),i.classList.add(w),r=setTimeout((()=>{i.classList.add(k)}),16),s=setTimeout((()=>{i.classList.remove(w,k)}),350)};t.on("begin",(e=>{a()})),t.on("end",(e=>{a()}))},sync:function(e,t,n,o){if(!window.BroadcastChannel)return console.log("[sync controller] disabled due browser incompatibility"),!1;const r=new BroadcastChannel("presenta.sync"),s=u(`<div class="${z}"></div>`);e.appendChild(s),r.onmessage=t=>{const n=t.data,o=n.name,r=n.props;if(0===o.indexOf("key")){const t={key:r.key};e.parentNode.dispatchEvent(new KeyboardEvent(o,t))}if(0===o.indexOf("mouse")||0===o.indexOf("click")){const t={x:r.x,y:r.y},n=r.uuid;((n?e.parentNode.querySelector("#"+n):e.parentNode)||e.parentNode).dispatchEvent(new MouseEvent(o,t))}};const i=(e,t)=>{const n={key:t.key,type:t.type};t.isTrusted&&r.postMessage({name:e,props:n})};e.parentNode.addEventListener("keydown",(e=>{i("keydown",e)})),e.parentNode.addEventListener("keyup",(e=>{i("keyup",e)})),e.parentNode.addEventListener("click",(e=>{((e,t)=>{console.log(t.target,t.currentTarget);const n=t.target,o={uuid:n?n.getAttribute("id"):null,type:t.type,x:t.clientX,y:t.clientY};t.isTrusted&&r.postMessage({name:e,props:o})})("click",e)}))},rsync:function(e,t,n,o){if(!window.BroadcastChannel)return console.log("rsync controller is disabled because browser incompatibility"),!1;const r=new BroadcastChannel("presenta.rsync");let s=!1;const i=(e,t)=>{s||r.postMessage({name:e,props:t}),s=!1};t.on("next",(e=>{i("next",e)})),t.on("prev",(e=>{i("prev",e)})),t.on("goto",(e=>{i("goto",e)})),r.onmessage=e=>{const n=e.data,o=n.name,r=n.props;switch(s=!0,o){case"next":t.next();break;case"prev":t.prev();break;case"goto":t.goto(r.currentIndex)}}},transitions:function(e,t,n,o){if("present"!==o.mode)return!1;const r="object"==typeof n?n.preset:n;j.indexOf(r)>=0&&o._root.classList.add(`transition__${r}`)}};var S={stepItem:"style_stepItem__1Iv29",fadeIn:"style_fadeIn__1qNon",zoomOut:"style_zoomOut__FobL2",zoomIn:"style_zoomIn__3R2ad",slideUp:"style_slideUp__2aPxJ",slideDown:"style_slideDown__3Wu--"};e(".style_stepItem__1Iv29{transform-origin:center;transition:opacity 1.33s cubic-bezier(.19,1,.22,1),transform 1.33s cubic-bezier(.19,1,.22,1)}.style_fadeIn__1qNon{opacity:0!important}.style_zoomOut__FobL2{opacity:0!important;transform:scale(1.3)!important}.style_zoomIn__3R2ad{opacity:0!important;transform:scale(.7)!important}.style_slideUp__2aPxJ{opacity:0!important;transform:translateY(40px)!important}.style_slideDown__3Wu--{opacity:0!important;transform:translateY(-40px)!important}");const $=["fadeIn","zoomOut","zoomIn","slideUp","slideDown"],P=["sequential","match"],L=e=>{let t=null,n=null,o=null,r=null;return"string"==typeof e&&(t=e),"object"==typeof e&&(t=e.selector,n=e.transition,o=e.mode,r=e.out),{tag:t,trans:n,mode:o,out:r}};e("[jump]{cursor:pointer}");e(".noresize.sceneObject{height:100%;width:100%}.noresize.sceneObject .sceneWrapper{height:100%;transform:scale(1);width:100%}");const F=["back","fore","accent","alt"],E=function(e,t,n){if("object"!=typeof t)return!1;"block"!==n.contextType&&F.forEach((n=>{var o;t[n]&&e.style.setProperty("--color"+((o=n).charAt(0).toUpperCase()+o.slice(1)),t[n])}))};E.runBefore=!0;const B=function(e,t,n){if("object"!=typeof t)return!1;if("block"===n.contextType)return;const o=this;return new Promise(((n,r)=>{["Text","Head","Alt"].forEach((n=>{const o=t["font"+n];if(o){const t=p(o);e.style.setProperty("--font"+n,t)}})),n(o)}))};B.runBefore=!0;const T=["opacity","blend","radius","border","padding","background","color","clip","shadow"],I=function(e,t,n){((e,t)=>{if("object"!=typeof t)return!1;T.forEach((n=>{const o=t[n];var r;o&&e.style.setProperty("--block"+((r=n).charAt(0).toUpperCase()+r.slice(1)),o)}))})(e,t)};I.runBefore=!0;const A=function(e,t,n){const o=t.css;o&&e.style.setProperty(`--${n.contextType}Padding`,o)};A.runBefore=!0;const O=["top","left","width","height","angle","right","bottom","skew"],q=function(e,t,n){((e,t)=>{if("object"!=typeof t)return!1;O.forEach((n=>{const o=t[n];if(o){const t=+o;t&&"number"==typeof t?e.style.setProperty("--"+n,t+"%"):e.style.setProperty("--"+n,o)}}))})(e,t)};q.runBefore=!0;var R="style_pagenum__1ycBY",D="style_inner__AbrJj",U="style_content__1CXpQ";e(".style_pagenum__1ycBY{--pagenumTextAlign:right;--pagenumPadding:.75rem;--pagenumFontSize:.9rem;--pagenumBackColor:none;--pagenumFont:var(--fontText);--pagenumColor:var(--colorFore);--pagenumFlexAlign:flex-end;--pagenumFlexJustify:flex-end;height:100%;left:0;padding:var(--containerPaddingTop) var(--containerPaddingRight) var(--containerPaddingBottom) var(--containerPaddingLeft);pointer-events:none;position:absolute;top:0;width:100%}.style_inner__AbrJj{align-items:var(--pagenumFlexAlign);display:flex;height:100%;justify-content:var(--pagenumFlexJustify);padding:var(--pagenumPadding);width:100%}.style_content__1CXpQ{background-color:var(--pagenumBackColor);border:var(--pagenumBorder);border-radius:var(--pagenumBorderRadius);color:var(--pagenumColor);font-family:var(--pagenumFont);font-size:var(--pagenumFontSize);padding:var(--pagenumInnerPadding);text-align:var(--pagenumTextAlign);transition:all .3s ease-in-out}");const N=["textAlign","padding","innerPadding","fontSize","font","backColor","color","border","borderRadius","flexAlign","flexJustify"];var M={reveal:"style_reveal__3Cs6V",inner:"style_inner__3rqnR",content:"style_content__bTAxU",preview:"style_preview__2jDoF",exitSlideUp:"style_exitSlideUp__s74jg",exitFadeOut:"style_exitFadeOut__12FkH"};e(".style_reveal__3Cs6V{--revealTextAlign:center;--revealPadding:5px;--revealFontSize:2rem;--revealFont:var(--fontText);--revealBackColor:var(--colorFore);--revealColor:var(--colorBack);--revealFlexAlign:center;--revealFlexJustify:center;height:100%;left:0;pointer-events:none;position:absolute;top:0;transition-duration:1.33s;transition-property:opacity,transform;transition-timing-function:cubic-bezier(.19,1,.22,1);width:100%}.style_inner__3rqnR{align-items:var(--revealFlexAlign);background-color:var(--revealBackColor);display:flex;height:100%;justify-content:var(--revealFlexJustify);padding:var(--revealPadding);width:100%}.style_content__bTAxU{color:var(--revealColor);font-family:var(--revealFont);font-size:var(--revealFontSize);text-align:var(--revealTextAlign)}.style_preview__2jDoF{opacity:.3}.style_exitSlideUp__s74jg{transform:translateY(-100%)}.style_exitFadeOut__12FkH{opacity:0}");const J=["textAlign","padding","fontSize","font","backColor","color","flexAlign","flexJustify"];var W="style_link__1KZmh";e(".style_link__1KZmh{cursor:pointer}");var Y={entersItem:"style_entersItem__2uGyd",fadeIn:"style_fadeIn__10W0K",zoomOut:"style_zoomOut__1wM1b",zoomIn:"style_zoomIn__38KfE",slideUp:"style_slideUp__2b3jJ",slideDown:"style_slideDown__UD-oC"};e(".style_entersItem__2uGyd{transform-origin:center;transition:opacity 1.5s cubic-bezier(.19,1,.22,1),transform 1.5s cubic-bezier(.19,1,.22,1)}.style_fadeIn__10W0K{opacity:0!important;transition-timing-function:ease-in-out}.style_zoomOut__1wM1b{opacity:0!important;transform:scale(1.3)!important}.style_zoomIn__38KfE{opacity:0!important;transform:scale(.7)!important}.style_slideUp__2b3jJ{opacity:0!important;transform:translateY(40px)!important}.style_slideDown__UD-oC{opacity:0!important;transform:translateY(-40px)!important}");const X=(e,t)=>{const n=document.createElement("script");n.setAttribute("class","sdpmodulescriptcontainer"),n.setAttribute("type","module"),n.setAttribute("async",""),n.innerHTML=t,n.src=e,document.body.appendChild(n)},H=function(e,t,n){if("preview"!==n._mode&&"scene"===n.contextType)return new Promise(((e,o)=>{const r={};n.blocks.forEach((e=>{r[e.ukey]=e})),r._otherParams=n.otherParams,window._sdpconfigobject=r,window._sdpscriptexportedresult={},window._sdpcallbackfunc=()=>{console.log("_sdpcallbackfunc"),window._sdpcallbackfunc=null,window._sdpconfigobject=null,e()};[...document.querySelectorAll(".sdpmodulescriptcontainer")].forEach((e=>document.body.removeChild(e)));let s=`\nconst index = ${n.index}\nconst exportedResult = window._sdpscriptexportedresult\n\nconst params = window._sdpconfigobject._otherParams\n    `;n.blocks.forEach((e=>{s+=`\nconst ${e.ukey} = window._sdpconfigobject.${e.ukey}\n`})),s+=`\n\n${t.header}\n\ntry{\n\n${t.code}\n\n}catch(err){\nconsole.log('error in module', err)\n}\nexport default {}`;let i=URL.createObjectURL(new Blob([s],{type:"application/javascript"}));X(i,s);const a=`\nimport _sdpPrivateInput from '${i}'\nwindow._sdpcallbackfunc()\n`;i=URL.createObjectURL(new Blob([a],{type:"application/javascript"})),X(i,a)}))};H.runBefore=!0;const V=function(e,t,n){const{key:o,op:r,value:s}=t,i=o.split(".").reduce(((e,t)=>e[t]),n);let a=!0;switch(r){case"==":a=i===s;break;case"!=":a=i!==s}a||(e.style.display="none")};V.runBefore=!0;const Z={coords:q,steps:function(e,t,n){if("present"!==n._mode)return;if("scene"!==n.contextType)return;const o=L(t);let r=o.tag||".step";const s=o.out||!1;let i=o.trans||$[0];const a=o.mode||P[0],l=L(n.steps);let c=l.mode||l.tag||a;-1===P.indexOf(c)&&(c=P[0]),r=l.tag||r,i=l.trans||i;let d=0;const _={};let p=[];const u=n.blocks.filter((e=>!(e.hasOwnProperty("steps")&&!e.steps)));let h=null;u.forEach((e=>{const t=e._el,o=L(e.steps),a=o.tag||r,l=o.out||s;let u=o.trans||i;-1===$.indexOf(u)&&(u=$[0]);const h=a.split(","),y=[];h.forEach((e=>{const n=e.indexOf("#")>=0,o=t[n?"querySelector":"querySelectorAll"](e);if(n)y.push({selector:e,els:o?[o]:[]});else{const t=Array.from(o);t.sort(((e,t)=>e.dataset.order-t.dataset.order)),y.push({selector:e,els:t})}})),"sequential"===c&&y.forEach((e=>{const t=e.els;p=p.concat(t),t.forEach((e=>{e.classList.add(S[u]);const t={sandbox:"steps",index:d,trans:u,out:l,els:[e]};n._steps.push(t),d++}))})),"match"===c&&y.forEach((e=>{const t=e.selector,n=e.els;_[t]?(_[t].arr=_[t].arr.concat(n),_[t].outs.push(l)):_[t]={arr:n,trans:u,outs:[l]}}))}));for(const e in _){const t=_[e].trans,o=_[e].outs;_[e].arr.forEach((e=>e.classList.add(S[t])));const r={sandbox:"steps",index:d,trans:t,outs:o,out:o.find((e=>!0===e)),els:_[e].arr};n._steps.push(r),d++}setTimeout((()=>{p.forEach((e=>{e.classList.add(S.stepItem)}));for(const e in _)_[e].arr.forEach((e=>e.classList.add(S.stepItem)))}),100),this.stepForward=e=>{if("steps"===e.sandbox){h&&(h.forEach(((t,n)=>{(e.outs?e.outs[n]:e.out)&&t.classList.add(S[e.trans])})),h=null);const t=e.els;t.forEach((t=>t.classList.remove(S[e.trans]))),e.out&&(h=t)}}},jump:function(e,t,n){const o=[];[...e.querySelectorAll("[jump]")].forEach((e=>{const t=e.getAttribute("jump"),r=parseInt(t);if(r>0){const t=e=>{n._router.goto(r-1)};e.addEventListener("click",t),o.push({el:e,handler:t})}})),this.destroy=()=>{o.forEach((e=>{e.el.removeEventListener("click",e.handler)}))}},noresize:function(e,t,n){!(!n.noresize&&!t)&&e.querySelector(".sceneObject").classList.add("noresize")},colors:E,fonts:B,styles:I,paddings:A,autoplay:function(e,t,n){if("preview"===n._mode)return;if("block"===n.contextType)return;let o=null;const r=n._router;let s=4e3;switch(typeof t){case"number":s=t;break;case"string":s=+t;break;case"object":s=+t.delay;break;default:s=4e3}o=setTimeout((()=>{r.next()}),s),r.on("indexChanged",(e=>{clearTimeout(o)})),r.on("stepChanged",(e=>{clearTimeout(o)}))},pagenum:function(e,t,n){const o=_("pagenum",N,t),r=u(`<div class="${R}"></div>`),s=u(`<div class="${D}" style="${o}"></div>`),i=u(`<div class="${U}"></div>`);s.appendChild(i),r.appendChild(s),e.querySelector(".sceneWrapper").appendChild(r);const a=t.template?t.template:"%s / %S",l=n._router,c=l.currentIndex(),d=l.totalScenes(),p=c+1,h=a.replace(/%s/gm,p).replace(/%S/gm,d);i.innerHTML=h},reveal:function(e,t,n){let o="";"preview"===n._mode&&(o=M.preview);const r=_("reveal",J,t);n._steps.push({sandbox:"reveal"});const s=t.text?t.text:"",i=t.effect?M[t.effect]:M.exitSlideUp,a=u(`<div class="${M.reveal} ${o}"></div>`),l=u(`<div class="${M.inner}" style="${r}"></div>`),c=u(`<div class="${M.content}">${s}</div>`);l.appendChild(c),a.appendChild(l),e.querySelector(".sceneWrapper").appendChild(a),this.stepForward=e=>{"reveal"===e.sandbox&&a.classList.add(i)}},enters:function(e,t,n){if("present"!==n._mode)return;const o=t.transition;if(!o)return;let r=t.delay?parseInt(t.delay):1e3;if(t.stagger&&(r+=200*n._index),"block"===n.contextType){const e=n._el.querySelector(".blockContainer");e.classList.add(Y[o]),setTimeout((()=>{e.classList.add(Y.entersItem)}),16),setTimeout((()=>{e.classList.remove(Y[o])}),r)}},script:H,link:function(e,t,n){if("present"===n._mode&&"block"===n.contextType){n._el.querySelector(".blockContainer").classList.add(W)}},showif:V};var K={text:"style_text__3T1cl",promise:"style_promise__1-2R_",inner:"style_inner__11UJC",pretext:"style_pretext__cLjqD",textbox:"style_textbox__1Vb-V",itext:"style_itext__jz90o",marked:"style_marked__3bbXu",uppercase:"style_uppercase__2Fiv7",underline:"style_underline__3GnC9",clamp:"style_clamp__J1SFM"};e('.style_text__3T1cl{--textAlign:center;--textVertical:center;--textHorizontal:center;--textSize:1rem;--textWidth:auto;--textFont:var(--fontText);--textBackground:none;--textColor:var(--colorFore);--textPadding:0;--textInterline:inherit;--textSpacing:inherit;--textBorderTop:inherit;--textBorderLeft:inherit;--textBorderRight:inherit;--textBorderBottom:inherit;--textRadius:0;--textShadow:none;--textBlend:none;--textClamp:0;height:100%;position:relative;width:100%}.style_promise__1-2R_{visibility:hidden}.style_inner__11UJC{height:100%;position:relative;width:100%}.style_pretext__cLjqD{align-items:var(--textVertical);display:flex;height:100%;justify-content:var(--textHorizontal);width:100%}.style_textbox__1Vb-V{--backmark:var(--colorAccent);--foremark:var(--colorBack);--textaccentcolor:var(--colorAccent);font-family:var(--textFont);font-size:var(--textSize);text-align:var(--textAlign);width:var(--textWidth)}.style_itext__jz90o{background:var(--textBackground);border-bottom:var(--textBorderBottom);border-left:var(--textBorderLeft);border-radius:var(--textRadius);border-right:var(--textBorderRight);border-top:var(--textBorderTop);box-shadow:var(--textShadow);color:var(--textColor);letter-spacing:var(--textSpacing);line-height:var(--textInterline);mix-blend-mode:var(--textBlend);padding:var(--textPadding)}.style_itext__jz90o img{height:4em;-o-object-fit:contain;object-fit:contain;vertical-align:middle}.style_itext__jz90o mark{background-color:var(--backmark);color:var(--foremark);padding:.5rem}.style_itext__jz90o high{color:var(--textaccentcolor)}.style_itext__jz90o bord{border:8px solid var(--backmark);padding:0 .5rem}.style_itext__jz90o a{color:var(--textaccentcolor);text-decoration:underline}.style_itext__jz90o btn{background-color:var(--colorFore);border-radius:12px;color:var(--colorBack);display:inline-block;overflow:hidden;padding:1rem 2rem}.style_itext__jz90o blockquote{font-family:var(--fontAlt);font-size:2em;font-style:italic;font-weight:400}.style_itext__jz90o blockquote,.style_itext__jz90o h1,.style_itext__jz90o h2,.style_itext__jz90o h3,.style_itext__jz90o h4,.style_itext__jz90o h5,.style_itext__jz90o h6,.style_itext__jz90o p,.style_itext__jz90o ul{margin:0}.style_itext__jz90o h1 b,.style_itext__jz90o h1 strong,.style_itext__jz90o h2 b,.style_itext__jz90o h2 strong,.style_itext__jz90o h3 b,.style_itext__jz90o h3 strong,.style_itext__jz90o h4 b,.style_itext__jz90o h4 strong,.style_itext__jz90o h5 b,.style_itext__jz90o h5 strong,.style_itext__jz90o h6 b,.style_itext__jz90o h6 strong{color:var(--textaccentcolor)}.style_itext__jz90o ol,.style_itext__jz90o ul{counter-reset:li;list-style-type:none;margin:0;padding:.5em 0;text-align:left}.style_itext__jz90o li{list-style-position:inside;margin-bottom:2px;padding:.25em .25em .25em .8em}.style_itext__jz90o ul li:before{content:"–";display:inline-block;margin-left:-.8em;width:.8em}.style_itext__jz90o ol li:before{content:"." counter(li);counter-increment:li;direction:rtl;display:inline-block;margin-left:-1.3em;margin-right:.2em;text-align:right;width:1.1em}.style_itext__jz90o li p{display:inline}.style_itext__jz90o code,.style_itext__jz90o pre{margin:0;text-align:left}.style_itext__jz90o h1,.style_itext__jz90o h2,.style_itext__jz90o h3,.style_itext__jz90o h4,.style_itext__jz90o h5,.style_itext__jz90o h6{font-family:var(--fontHead);padding:.5rem 0}.style_itext__jz90o h1{font-size:2em}.style_itext__jz90o h2{font-size:1.5em}.style_itext__jz90o h3{font-size:1.17em}.style_itext__jz90o h4{font-size:1em}.style_itext__jz90o h5{font-size:.83em}.style_itext__jz90o h6{font-size:.67em}.style_itext__jz90o p{padding:.5rem 0}.style_itext__jz90o p:first-child{padding-top:0}.style_itext__jz90o p:last-child{padding-bottom:0}.style_itext__jz90o hr{border:1px solid var(--colorFore);margin:.5rem 0}.style_itext__jz90o h1:first-child,.style_itext__jz90o h1:last-child,.style_itext__jz90o h2:first-child,.style_itext__jz90o h2:last-child,.style_itext__jz90o h3:first-child,.style_itext__jz90o h3:last-child{padding:0}.style_itext__jz90o table{width:100%}.style_itext__jz90o tr{padding:0}.style_itext__jz90o td,.style_itext__jz90o th{border-bottom:1px solid var(--colorFore);padding:.5rem}.style_itext__jz90o small{font-size:.6em}.style_marked__3bbXu span{background:var(--textAccent);color:var(--textColor)}.style_uppercase__2Fiv7 span{text-transform:uppercase}.style_underline__3GnC9 span{text-decoration:underline;-webkit-text-decoration-color:var(--textColor);text-decoration-color:var(--textColor)}.style_clamp__J1SFM{-webkit-line-clamp:var(--textClamp);-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}');const G=["background","color","accent","padding","interline","spacing","radius","borderTop","borderLeft","borderRight","borderBottom","shadow","blend","align","vertical","horizontal"],Q=["marked","uppercase","underline"];var ee="style_inner__3WOWs",te="style_frame__28PUh",ne="style_embed__2Pre2",oe="style_loading__1w7wc",re="style_blockmouse__3bXSl",se="style_poster__1TOx3";e(":root{--embedPadding:0;--embedBackcolor:none;--embedPosterSize:cover;--embedPosterPosition:center}.style_inner__3WOWs{padding:var(--embedPadding);position:relative}.style_frame__28PUh{background-color:var(--embedBackcolor);position:relative}.style_embed__2Pre2,.style_frame__28PUh,.style_inner__3WOWs{height:100%;width:100%}.style_frame__28PUh>iframe{border:none;height:100%;width:100%}.style_loading__1w7wc{align-items:center;background-color:var(--colorBack);color:var(--colorFore);display:flex;font-family:var(--fontText);height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%}.style_loading__1w7wc mark{background-color:var(--colorAccent);color:var(--colorBack)}.style_blockmouse__3bXSl,.style_poster__1TOx3{height:100%;left:0;position:absolute;top:0;width:100%}.style_poster__1TOx3{background-color:var(--colorBack)}.style_poster__1TOx3 img{height:100%;-o-object-fit:var(--embedPosterSize);object-fit:var(--embedPosterSize);-o-object-position:var(--embedPosterPosition);object-position:var(--embedPosterPosition);width:100%}");var ie="style_image__1fZIQ",ae="style_inner__3tyMU",le="style_preimg__2ypvx";e(":root{--imagePosition:center;--imageFilter:none;--imageScale:1;--imageSize:cover}.style_image__1fZIQ,.style_inner__3tyMU{height:100%;width:100%}.style_inner__3tyMU{display:flex}.style_preimg__2ypvx{align-items:center;display:flex;flex:1;justify-content:center;overflow:hidden}.style_preimg__2ypvx img{filter:var(--imageFilter);height:calc(var(--imageScale)*100%);-o-object-fit:var(--imageSize);object-fit:var(--imageSize);-o-object-position:var(--imagePosition);object-position:var(--imagePosition);width:calc(var(--imageScale)*100%)}");const ce=["scale","filter","position","size"];var de="style_video__1qbdJ";e(":root{--videoSize:cover;--videoPosition:center}.style_video__1qbdJ{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.style_video__1qbdJ video{height:100%;-o-object-fit:var(--videoSize);object-fit:var(--videoSize);-o-object-position:var(--videoPosition);object-position:var(--videoPosition);pointer-events:none;width:100%}");var _e="style_svg__2xfFu",pe="style_inner__AjKjt";e(".style_inner__AjKjt,.style_svg__2xfFu,.style_svg__2xfFu svg{height:100%;width:100%}");var ue={shape:"style_shape__FgMb3",el:"style_el__2h6ux",path:"style_path__2ka5V",circle:"style_circle__311fy",triangle:"style_triangle__1SsU5",rhombus:"style_rhombus__30IVZ",star:"style_star__SnUWn"};e(".style_shape__FgMb3{--shapeColor:var(--colorFore);height:100%;width:100%}.style_el__2h6ux{background:var(--shapeColor);height:100%;width:100%}.style_path__2ka5V{-webkit-clip-path:var(--shapePath);clip-path:var(--shapePath)}.style_circle__311fy{-webkit-clip-path:ellipse(50% 50% at 50% 50%);clip-path:ellipse(50% 50% at 50% 50%)}.style_triangle__1SsU5{-webkit-clip-path:polygon(50% 0,0 100%,100% 100%);clip-path:polygon(50% 0,0 100%,100% 100%)}.style_rhombus__30IVZ{-webkit-clip-path:polygon(50% 0,100% 50%,50% 100%,0 50%);clip-path:polygon(50% 0,100% 50%,50% 100%,0 50%)}.style_star__SnUWn{-webkit-clip-path:polygon(50% 0,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);clip-path:polygon(50% 0,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%)}");var he={line:"style_line__2r6B4",horizontal:"style_horizontal__Q3OSl",el:"style_el__X2-Ln",vertical:"style_vertical__1ldIK"};e(".style_line__2r6B4{--lineColor:var(--colorFore);--lineTickness:1;align-items:center;display:flex;height:100%;justify-content:center;width:100%}.style_horizontal__Q3OSl .style_el__X2-Ln{height:var(--lineTickness);width:100%}.style_vertical__1ldIK .style_el__X2-Ln{height:100%;width:var(--lineTickness)}.style_el__X2-Ln{background:var(--lineColor)}");const ye={text:function(e,t){const n=this;return new Promise(((o,r)=>{const s=t.content||"";if(!s)return o(n);let i=_("text",G,t);const a=(e=>{const t={v:e,u:"rem"};if(!e)return t;const n=e+"",o=n.match(/rem|px/gim);return o&&(t.u=o[0],t.v=n.replace(o[0],"")),Number(t.v)>0?t.v=+t.v:t.v=null,t})(t.scale);let l=a.v;const c=a.u,d=t.autoscale;let h="";if(Q.forEach((e=>{t[e]&&(h+=K[e]+" ")})),t.font){i+=` --textFont:${p(t.font)};`}const y=t.clamp;let f="";y&&(i+="--textClamp: "+y,f=K.clamp);const v=u(`<div class="c ${K.text} ${K.promise} ${h}">\n    <div style="${i}" class="${K.inner}">\n      <div class="pretext ${K.pretext}">\n        <div class="${K.textbox}">\n          <div class="textContent ${K.itext} ${f}">\n            <span>${s}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>`);e.appendChild(v);const m=()=>{v.style.setProperty("--textSize",`${l}${c}`);const e=v.querySelector("."+K.inner),t=v.querySelector("."+K.textbox);if(!d)return setTimeout((()=>{v.classList.remove(K.promise),o(n)})),!1;const r=e.getBoundingClientRect(),s=t.getBoundingClientRect();if(parseInt(r.width)<parseInt(s.width)||parseInt(r.height)<parseInt(s.height)){return l-="px"===c?.5:.05,setTimeout(m)}setTimeout((()=>{v.classList.remove(K.promise),o(n)}))};t.font?fetch(t.font).then((e=>{setTimeout(m)})).catch((e=>{console.log("error on preload font",e),setTimeout(m)})):setTimeout(m),n.destroy=()=>{}}))},embed:function(e,t){const n="present"===t._mode||"print"===t._mode||t.overrideMode;let o=null;if(t.url&&(o=`<iframe src="${t.url}"></iframe>`),t.code&&(o=t.code),!o)return!1;const r=this;return new Promise(((s,i)=>{const a=(e=>{if(!e)return"";const t=new RegExp('src="(.*)',"gim").exec(e)[1].match(/http(s?):\/\/([\w]+\.){1}([\w]+\.?)+/gim);return t&&t.length>0?t[0]:null})(o),l=`<div class="cover ${oe}"><h1>${a?`Embed from <mark>${a}</mark>`:"Embed resource"}</h1></div>`,c=t.blockPointer?`<div class='${re}' />`:"",d=t.poster?`<div class="${se}"><img src="${t.poster}" /></div>`:"",_=()=>{h.querySelector("."+oe).style.display="none",d&&(h.querySelector("."+se).style.display="none"),s(r)},p=t.waitReady;n&&p&&(console.log("waitReady"),window.addEventListener("message",(e=>{console.log("message",e.data),"presenta.iframe.ready"===e.data&&_()})));const h=u(`<div class="c ${ne}">\n    <div class="${ee}">\n        <div class="${te}">${o}</div>\n        ${l}\n        ${d}\n        ${c}\n    </div>\n  </div>`);if(e.appendChild(h),n){const e=h.querySelector("iframe");p||(console.log("waitLoad"),e.addEventListener("load",(()=>{console.log("load"),_()})))}else s(r)}))},image:function(e,t){const n=t.url;if(!n)return!1;const o=this;return new Promise(((r,s)=>{const i=_("image",ce,t),a=u(`<div class="${ie}">\n    <div style="${i}" class="imagesContainer ${ae}">\n        ${`<div class="presentablock__image ${le}"></div>`}\n    </div>\n  </div>`);e.appendChild(a);const l=e.querySelector("."+le),c=new Image;c.onload=()=>{l.appendChild(c),r(o)},c.onerror=()=>{r(o)},c.src=n}))},video:function(e,t){const n="present"===t._mode,o=t.poster?`poster=${t.poster}`:"",r=t.loop?"loop":"",s=t.muted?"muted":"",i=t.autoplay&&n?"autoplay":"",a=t.url?`src=${t.url}`:"",l=u(`<div class="${de}" id="evt_trg_uid_block_video_${t._index}">\n    <video ${o} ${a} ${r} ${i} ${s}></video>\n  </div>`);let c;this.beforeDestroy=()=>{t._rootElement.removeEventListener("keyup",p),l.removeEventListener("click",_)},e.appendChild(l);let d=t.autoplay;const _=e=>{c||(c=l.querySelector("video")),d?c.pause():c.play(),d=!d},p=e=>{" "===e.key&&(_(),e.stopPropagation(),e.preventDefault()),"r"===e.key&&c&&(c.currentTime=0),"m"===e.key&&c&&(c.volume=c.volume?0:1),"+"===e.key&&c&&(c.volume+=.1),"-"===e.key&&c&&(c.volume-=-.1)};n&&(t._rootElement.addEventListener("keyup",p),l.addEventListener("click",_))},svg:function(e,t){const n=t.code;if(!n)return console.log("[block svg]","The svg is not present");const o=t.aspect||null,r=t.query||null,s=u(`<div class="c ${_e}">\n        <div class="${pe}">\n            ${n}\n        </div>\n    </div>`);if(e.appendChild(s),o&&s.querySelector("svg").setAttribute("preserveAspectRatio",o),r){const e=s.querySelector("svg");r.split(",").forEach((t=>{const n=t.split(":"),o=n[0],r=n[1],s=n[2];[...e.querySelectorAll(o)].forEach((e=>{e.setAttribute(r,s)}))}))}},shape:function(e,t){const n=_("shape",["color","path"],t);let o=t.shape||"rect";t.path&&(o="path");const r=u(`<div class="${ue.shape}">\n    <div style="${n}" class="${ue.el} ${ue[o]}"></div>\n  </div>`);e.appendChild(r)},line:function(e,t){const n=_("line",["color","tickness"],t),o=t.direction||"horizontal",r=u(`<div class="${he.line} ${he[o]}">\n    <div style="${n}" class="${he.el}"></div>\n  </div>`);e.appendChild(r)}};var fe="splash_splash__3mb9V",ve="splash_spinner__3jef_";e(".splash_splash__3mb9V{align-items:center;background-color:var(--colorBack);color:var(--colorFore);display:flex;flex-direction:column;font-family:var(--fontHead);height:100%;justify-content:center;width:100%}.splash_spinner__3jef_{animation:splash_spin__Dy8Lf 2s linear infinite;display:flex}@keyframes splash_spin__Dy8Lf{to{transform:rotate(1turn)}}");const me=function(e,t){const n=t.aspect||1.6,o=getComputedStyle(e);let r=+o.width.split("px")[0],s=+o.height.split("px")[0];r<50&&(r=360,e.style.width=`${r}px`),s<50&&(s=200,s=r/n,e.style.height=`${s}px`);const i=t.loading||"",a=u(`<div class="${fe}">\n    <div class="${ve}"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-loader"><line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line></svg></div>\n    ${i}\n  </div>`);e.appendChild(a),this.destroy=()=>{e.removeChild(a)}};var ge="container_mainwrapper__zelcO",xe="container_superContainer__2mwZX",be="container_container__3kBNh";e(":root{--containerPaddingTop:0;--containerPaddingLeft:0;--containerPaddingRight:0;--containerPaddingBottom:0}.container_mainwrapper__zelcO{height:100%;outline:none;overflow:hidden;position:relative;width:100%}.container_superContainer__2mwZX{padding:var(--containerPaddingTop) var(--containerPaddingRight) var(--containerPaddingBottom) var(--containerPaddingLeft)}.container_container__3kBNh,.container_superContainer__2mwZX{height:100%;position:relative;width:100%}.container_container__3kBNh>div{left:0;position:absolute;top:0}");var we="router_router__2r4NQ",ke="router_ignorePad__4q1nG";e(".router_router__2r4NQ{height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.router_router__2r4NQ>div{padding:var(--containerPaddingTop) var(--containerPaddingRight) var(--containerPaddingBottom) var(--containerPaddingLeft)}.router_router__2r4NQ>div.router_ignorePad__4q1nG{padding:0}");const ze=function(e,t){const n=u(`<div class="controller ${we}"></div>`);e.appendChild(n);const o=t.scenes,r=()=>o.length-1,s={},i={};let a=0,l=0;const c=()=>o[a]&&o[a]._steps?o[a]._steps.length:0;this.next=()=>{l===c()?this.nextIndex():(l++,d("stepChanged")),d("next")},this.prev=()=>{this.prevIndex(),d("prev")},this.nextIndex=()=>{a<r()?(a++,l=0,d(["nextIndex","indexChanged"])):(a=r(),l=c(),d("end"))},this.prevIndex=()=>{a>0?(a--,l=0,d(["prevIndex","indexChanged"])):(a=0,l=0,d("begin"))},this.goto=e=>{a=e<r()?e:r(),l=0,d(["goto","indexChanged"])};const d=e=>{(Array.isArray(e)?e:[e]).forEach((e=>{s[e]&&s[e].forEach((t=>{t({name:e,currentIndex:a,currentStep:l,totalScenes:this.totalScenes(),totalSteps:c(),isFirst:this.isFirst(),isLast:this.isLast()})}))}))};if(this.on=(e,t)=>{s[e]||(s[e]=[]),s[e].push(t)},this.off=(e,t)=>{const n=s[e].indexOf(t);n>=0&&s[e].splice(n,1)},this.destroy=()=>{for(const e in s)s[e]=null,delete s[e]},this.totalScenes=()=>r()+1,this.totalSteps=()=>c(),this.currentIndex=()=>a,this.currentStep=()=>l,this.isFirst=()=>0===a,this.isLast=()=>a===r(),this.setCurrentIndex=e=>a=e,this.setCurrentStep=e=>l=e,this.controllers=i,this.dispatch=(e,t)=>{s[e]&&s[e].forEach((e=>{e(t)}))},t.controllers)for(const e in t.controllers){const o=t.controllers[e],r=C[e];if(r||console.log(`Controller "${e}" not found. Maybe you forgot to include it.`),o&&r){const s=new r(n,this,o,t);i[e]=s,o.ignorePad&&(s._el?s._el.classList.add(ke):console.warn(`Controller ${e} uses ignorePad but _el is undefined`))}}d("indexChanged"),setTimeout((()=>{d("init"),setTimeout((()=>{d("inited")}))}))};var je="scene_sceneContainer__IgSpB",Ce="scene_visible__3JU3x",Se="scene_scene__3uvTl",$e="scene_wrapper__3yr1k",Pe="scene_content__1rJf0",Le="scene_viewport__3uNLS";e(".scene_sceneContainer__IgSpB{align-items:center;display:flex;height:100%;justify-content:center;position:relative;visibility:hidden;width:100%}.scene_visible__3JU3x{visibility:visible}.scene_scene__3uvTl{--presenta-sw:calc(var(--presenta-w)/var(--presenta-p)/var(--presenta-fz));--presenta-sh:calc(var(--presenta-h)/var(--presenta-p)/var(--presenta-fz));--presenta-scal:calc(var(--presenta-pw)/var(--presenta-p)/var(--presenta-pw)/var(--presenta-fz));--sceneColorBack:var(--colorBack);font-family:serif;height:var(--presenta-sh);width:var(--presenta-sw)}.scene_promise__24VCP{visibility:hidden}.scene_wrapper__3yr1k{background:var(--sceneColorBack);height:var(--presenta-h);padding:var(--scenePadding);transform:scale(1);transform:scale(var(--presenta-scal));transform-origin:top left;width:var(--presenta-w)}.scene_content__1rJf0{display:flex;flex-direction:column;height:100%;width:100%}.scene_viewport__3uNLS{display:flex;flex:1;flex-direction:row;height:100%;overflow:hidden;position:relative;width:100%}");var Fe="block_block__BWbaZ",Ee="block_inner__3LS6s",Be="block_subinner__3Mwvc";e(":root{--left:inherit;--top:inherit;--width:100%;--height:100%;--angle:0;--skew:0;--right:inherit;--bottom:inherit;--position:absolute;--radius:none}.block_block__BWbaZ{--blockColor:var(--colorFore);--blockBorder:0;bottom:var(--bottom);height:var(--height);left:var(--left);position:var(--position);right:var(--right);top:var(--top);transform:rotate(var(--angle)) skew(var(--skew));width:var(--width)}.block_inner__3LS6s{box-shadow:var(--blockShadow);-webkit-clip-path:var(--blockClip);clip-path:var(--blockClip);mix-blend-mode:var(--blockBlend);opacity:var(--blockOpacity);overflow:hidden}.block_subinner__3Mwvc{background:var(--blockBackground);border-radius:var(--blockRadius);border-style:solid;border-width:var(--blockBorder);color:var(--blockColor);height:100%;overflow:hidden;padding:var(--blockPadding);width:100%}.block_inner__3LS6s{height:100%;left:0;position:absolute;top:0;width:100%}");const Te=function(e,t){const n=this;return new Promise(((o,r)=>{n.type=t.aliasType||t.type,n.index=t._index;var s=null;const i=t._sceneConfig||{};t.contextType="block";const a=[];if(!n.type)return console.warn("No `type` field found in block "+n.index);if(i.modules)for(const e in i.modules)if(t.hasOwnProperty("modules")||(t.modules={}),t.modules.hasOwnProperty(e))for(const n in i.modules[e])t.modules[e]&&!t.modules[e][n]&&(t.modules[e][n]=i.modules[e][n]);else t.modules[e]=i.modules[e];const l=u(`<div class="block ${Fe} b b${n.index}">\n      <div class="blockContainer ${Ee}"></div>\n    </div>`),c=l.querySelector(".blockContainer"),d=u(`<div class="blockInnerContainer ${Be}">\n    </div>`);if(ye[n.type]){c.appendChild(d),(e=>{if(t.modules)for(const n in t.modules){const o=t.modules[n],r=Z[n];r||console.log(`Module "${n}" not found in block. Maybe you forgot to include it.`),r&&o&&(!0===r.runBefore&&e?new r(l,o,t):r.runBefore||e||new r(l,o,t))}})(!0);const e=new ye[n.type](d,t);Promise.all([e]).then((e=>{s=e[0],o(n)}))}else console.log(`block "${n.type}" not found`),o(n);n.beforeDestroy=()=>{a.forEach((e=>{e.beforeDestroy&&e.beforeDestroy()})),s&&s.beforeDestroy&&s.beforeDestroy()},n.stepForward=(e,t)=>{s.stepForward&&s.stepForward(e,t)},n.destroy=()=>{s&&s.destroy&&s.destroy(),e.removeChild(l)},e.appendChild(l),t._el=l}))},Ie=e=>new function(e){this.clear=t=>(e.classList.remove(t),this),this.init=t=>(e.classList.add(t,"p-scene-enter-transition","p-scene-enter-start"),this),this.start=t=>(setTimeout((()=>{e.classList.remove("p-scene-enter-start"),e.classList.add("p-scene-enter-end")})),this),this.swap=()=>(e.classList.add("p-scene-enter-ended"),this),this.end=t=>(e.classList.remove("p-scene-enter-transition","p-scene-enter-end"),e.classList.add(t,"p-scene-leave-transition","p-scene-leave-start"),setTimeout((()=>{e.classList.add("p-scene-leave-end"),e.classList.remove("p-scene-leave-start")})),this)}(e),Ae=function(e,t,n,o){const r=this;return new Promise((function(s,i){let a=[];const l=[],c=[],d=[];if(t.contextType="scene",!t.blocks)return console.warn("No `blocks` array found in scene "+t.index);if(0===t.blocks.length&&console.warn("`blocks` is empty in scene "+t.index),n.modules)for(const e in n.modules)if(t.hasOwnProperty("modules")||(t.modules={}),t.modules.hasOwnProperty(e))for(const o in n.modules[e])t.modules[e]&&!t.modules[e][o]&&(t.modules[e][o]=n.modules[e][o]);else t.modules[e]=n.modules[e];let _=0;t._steps=[];const p=t._steps,h=u(`<div \n      class="s ${je}">\n      <div class="sceneObject ${Se}">\n        <div class="sceneWrapper ${$e}">\n            <div class="${Pe}">\n                <div class="layout blocksContainer ${Le}"></div>\n            </div>\n        </div>\n      </div>\n    </div>`);e.appendChild(h),t._el=h,t._rootElement=o,t._mode=n.mode,t._projectConfig=n;const y=()=>{const e=h.querySelector(".sceneObject"),n="backward"===t._presentatransdir?"to-right":"to-left",o="backward"===t._presentatransdir?"to-left":"to-right";Ie(e).clear(n).init(o)};r.initTransition=()=>{console.log("init trans"),y()},r.destroyAfter=e=>{const n=h.querySelector(".sceneObject"),o="backward"===t._presentatransdir?"to-right":"to-left",s="backward"===t._presentatransdir?"to-left":"to-right";Ie(n).clear(o).end(s);const i=e||0;l.forEach((e=>{e.beforeDestroy&&e.beforeDestroy()})),a.forEach((e=>{e.beforeDestroy&&e.beforeDestroy()})),setTimeout((()=>{r.destroy()}),i)},r.stepForward=()=>{if(_<p.length){const e=p[_];l.forEach((t=>{t.stepForward&&t.stepForward(e,_)})),a.forEach((t=>{t.stepForward&&t.stepForward(e,_)})),_++}},r.destroy=()=>{l.forEach((e=>{e.destroy&&e.destroy()})),a.forEach((e=>{e.destroy&&e.destroy()})),h.parentNode&&h.parentNode.removeChild(h)},r.sceneConfig=t,y(),n.waitForAllPromises||s(r),(e=>{if(t.modules)for(const n in t.modules){const o=t.modules[n],r=Z[n];r||console.log(`Module "${n}" not found. Maybe you forgot to include it.`),r&&o&&!0===r.runBefore&&e&&d.push(new r(h,o,t))}})(!0),Promise.all(d).then((e=>{t.blocks.forEach(((e,r)=>{e._index=r,e._portrait="portrait"===n._orientation,e._mode=n.mode,e._rootElement=o,e._sceneConfig=t;const s=h.querySelector(".blocksContainer");c.push(new Te(s,e))})),Promise.all(c).then((e=>{a=e,n.waitForAllPromises&&s(r)}))}))}))},Oe=e=>{const t=e.sceneConfig,n=t._el,o=t._projectConfig;(e=>{if(t.modules)for(const o in t.modules){const r=t.modules[o],s=Z[o];s||console.log(`Module "${o}" not found. Maybe you forgot to include it.`),s&&r&&(s.runBefore||e||new s(n,r,t))}})(!1),t.blocks.forEach((e=>function(e){const t=e._el;(n=>{if(e.modules)for(const o in e.modules){const r=e.modules[o],s=Z[o];s||console.log(`Module "${o}" not found in block. Maybe you forgot to include it.`),s&&r&&(s.runBefore||n||new s(t,r,e))}})(!1)}(e))),(()=>{n.classList.add(Ce);const e=n.querySelector(".sceneObject");Ie(e).start(),setTimeout((()=>{Ie(e).swap()}),o._transitionDestroyDelay)})(),n.classList.add("presentaSceneMounted")},qe=function(e,t){const n=this;return new Promise(((o,r)=>{e.classList.add("presenta");const s=u(`<div class="${ge}"></div>`);s.setAttribute("tabindex","0"),e.appendChild(s);const i=u(`<div class="b ${xe}"></div>`),a=u(`<div class="a ${be}"></div>`);s.appendChild(i),i.appendChild(a);const l=t.scenes;l.forEach(((e,t)=>e.index=t));var c=null,d=null,_=null,p=null;const y=(e,r)=>{const i=e,u=-1===r?"backward":"foreward";if(i<l.length){const e=l[i];if(e._presentatransdir=u,e._router=f,r>0&&p&&(d=p,Promise.all([_]).then((e=>{e[0]&&e[0].destroyAfter(t._transitionDestroyDelay)}))),r<0&&_&&(d=_,Promise.all([p]).then((e=>{e[0]&&e[0].destroyAfter(t._transitionDestroyDelay)}))),0===r&&(d=null,Promise.all([_,p]).then((e=>{console.log(e),e.forEach((e=>{e.destroyAfter(t._transitionDestroyDelay)}))}))),d||(d=new Ae(a,e,t,s)),i+1<l.length){const e=l[i+1];e._presentatransdir="foreward",e._router=f,p=new Ae(a,e,t,s)}if(i-1>=0){const e=l[i-1];e._presentatransdir="backward",e._router=f,_=new Ae(a,e,t,s)}}Promise.all([d]).then((e=>{c&&(c.sceneConfig._presentatransdir=u,c.destroyAfter(t._transitionDestroyDelay)),c=e[0],Oe(c),o(n)}))},f=new ze(s,t);if(f.on("goto",(e=>{y(e.currentIndex,0)})),f.on("nextIndex",(e=>{y(e.currentIndex,1)})),f.on("prevIndex",(e=>{y(e.currentIndex,-1)})),f.on("stepChanged",(e=>{c.stepForward()})),f.on("init",(e=>{y(e.currentIndex,1)})),window.ResizeObserver){new ResizeObserver((n=>{h(a,t,e)})).observe(s)}n.destroy=()=>{c.destroy(),f.destroy()},n.router=f,n.config=t}))};const Re=(e,t,n)=>{Object.keys(t).forEach((o=>{const r=e[o];r&&r.init&&r.init(t[o]),n.push({plugin:r,conf:t[o],key:o})}))};const De=function(e,t){if(!e||!t)return new Promise(((e,t)=>{t({message:"Missing required parameters, wrapper or config."})}));const n=(e=>{const t=[];return e.version&&t.push({message:"Config version is different from Library version"}),e.scenes||t.push({hard:!0,message:"No `scenes` array found"}),e.scenes.forEach(((e,n)=>{e.blocks||t.push({hard:!0,message:`No 'blocks' array in scene ${n} found`})})),0===e.scenes.length&&t.push({hard:!0,message:"`scenes` is empty"}),t})(t);if(n.filter((e=>e.hard)).length>0)return new Promise(((e,t)=>{t(n)}));n.length>0&&n.forEach((e=>console.warn(e.message))),(e=>{const t={aspect:1.6,adapt:!1,mode:"present",controllers:{},modules:{},plugins:[],_transitionDestroyDelay:1e3};for(const n in t)e.hasOwnProperty(n)||(e[n]=t[n])})(t);const o=d(e);o.innerHTML="",t._root=o;const r=new me(o,t);return new Promise(((e,n)=>{const s=(e=>{const t=[];Re(C,e.controllers,t),Re(Z,e.modules,t);const n=[];e.scenes.forEach((e=>{e.blocks.forEach((e=>{-1===n.indexOf(e.type)&&n.push(e.type)}))}));const o=[];n.forEach((e=>o[e]=!0)),Re(ye,o,t);const r=[];return t.forEach((t=>{const n=t.plugin,o=t.conf;n&&n.run&&r.push(n.run(e,o))})),r})(t);Promise.all(s).then((n=>{e(new qe(o,t)),r.destroy()}))}))};return De.version="1.0.10",De.addBlock=(e,t,n)=>{if(ye[e])return console.warn(`block type ${e} already defined`);n&&ye[e]&&console.warn(`block type ${e} was overriden`),ye[e]=t},De.addController=(e,t,n)=>{if(C[e])return console.warn(`controller io ${e} already defined`);n&&C[e]&&console.warn(`controller type ${e} was overriden`),C[e]=t},De.addModule=(e,t,n)=>{if(!n&&Z[e])return console.warn(`module type ${e} already defined`);n&&Z[e]&&console.warn(`module type ${e} was overriden`),Z[e]=t},De.installed={controllers:C,modules:Z,blocks:ye},De.io=y,De.use=e=>{e.install(De)},De}));
