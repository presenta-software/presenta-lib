!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Presenta=t()}(this,(function(){"use strict";function e(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===o&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}e(':root{--fontHeading:Georgia,"Times New Roman",Times,serif;--fontText:"Trebuchet MS","Lucida Sans Unicode","Lucida Grande","Lucida Sans",Arial,sans-serif;--colorBack:#fff;--colorFore:#000;--colorAccent:#444;--colorAlt:#ddd;--blockWeight:1;--blockPadding:0;--blockOpacity:1;--blockBlend:unset;--scenePadding:0;--sceneColorBack:#fff}.presenta *{box-sizing:border-box}.presenta{position:relative;--presenta-pw:960;--presenta-w:960px;--presenta-h:540px;--presenta-vp:960;--presenta-fz:1;--presenta-p:calc(var(--presenta-pw)/var(--presenta-vp))}');var t="style_arrows__2J_-T",o="style_inner__1f-jA",n="style_vertical__2l0YR",r="style_left__199CL",i="style_right__2Bn_p",s="style_ui__1jWCU",a="style_hide__4RZI1";e(":root{--arrowsOpacity:.5;--arrowsflexAlign:center;--arrowsflexJustify:space-between;--arrowsPadding:10px;--arrowsDirection:row}.style_arrows__2J_-T{position:absolute;top:0;left:0;width:100%;height:100%;z-index:100;transition:opacity .35s}.style_inner__1f-jA{width:100%;height:100%;display:flex;flex-direction:var(--arrowsDirection);justify-content:var(--arrowsflexJustify);color:var(--colorFore)}.style_vertical__2l0YR .style_inner__1f-jA{flex-direction:column}.style_left__199CL,.style_right__2Bn_p{height:100%;display:flex;align-items:var(--arrowsflexAlign);justify-content:center;cursor:pointer;padding:var(--arrowsPadding);pointer-events:all}.style_vertical__2l0YR .style_left__199CL,.style_vertical__2l0YR .style_right__2Bn_p{height:unset}.style_ui__1jWCU{width:24px;height:24px;transition:background-color .3s ease-in-out;pointer-events:none}.style_ui__1jWCU circle{stroke:none;fill:var(--colorBack);opacity:var(--arrowsOpacity)}.style_hide__4RZI1{opacity:0}");var l=["containerPaddingTop","containerPaddingLeft","containerPaddingRight","containerPaddingBottom","colorBack","colorFore","colorAccent","colorAlt","fontText","fontHeading","scenePadding","sceneBackColor","blockPadding","blockWeight","blockOpacity","blockBlend"];var c=["transition","colors","fonts","layout","colorVar","blockVar","sceneVar"];const d=(e,t)=>{if(0!==e.indexOf("_"))return t},p=e=>"uid"+JSON.stringify(e,d).split("").reduce(((e,t)=>(e=(e<<5)-e+t.charCodeAt(0))&e),0),_={},h=(e,t)=>{_[e]=t},u=(e,t)=>{if(!t)return e;if(t.indexOf("$$")>=0)return t.replace(/\$\$/gim,e);let o=t;const n=t.match(/\$([a-zA-Z0-9]+)\b/gim);if(!n)return e;const r=e.split("|"),i={};return r.forEach((e=>{const t=e.split(":");i[t[0]]=t[1]})),n.forEach((e=>{const t=i[e]||"";o=o.replace(e,t)})),o},f=(e,t)=>{e.otherParams||(e.otherParams={});for(const o in t){const n=t[o];if(!Array.isArray(n)){const t=e.blocks.find((e=>e.ukey===o));if(t)if("object"==typeof n)for(const e in n){const o=n[e];if("object"==typeof o)for(const n in o)t.modules[e]||(t.modules[e]={}),t.modules[e][n]=o[n];else t[e]=u(o,t[e])}else{const e=_[t.type];e&&(t[e]=u(n,t[e]))}else e.otherParams[o]=n}}},y=(e,t)=>{if(t.scenes.forEach((t=>{f(t,e)})),e.frames){const o=[];e.frames.forEach((e=>{const n=e.frameID,r=t.scenes.find((e=>e.pFrameID===n));if(r){const t=JSON.parse(JSON.stringify(r));f(t,e),o.push(t)}else console.log(`frame ${n} not found`),o.push({blocks:[{type:"text",content:`frame ${n} not found`}]})})),t.scenes=o}return t};var v={select:e=>"string"==typeof e?document.querySelector(e):e,props:(e,t)=>{l.forEach((o=>{if(t[o]){const n=t[o];e.style.setProperty("--"+o,n)}}))},addProp:e=>{Array.isArray(e)?e.forEach((e=>{-1===l.indexOf(e)&&l.push(e)})):-1===l.indexOf(e)&&l.push(e)},globs:(e,t)=>{c.forEach((o=>{if(t[o]){const n=t[o];e.classList.add(`${o}__${n}`)}}))},addGlob:e=>{Array.isArray(e)?e.forEach((e=>{-1===c.indexOf(e)&&c.push(e)})):-1===c.indexOf(e)&&c.push(e)},uid:p,rawProps:(e,t,o)=>{let n="";for(var r in o)t.indexOf(r)>=0&&(n+="--"+e+((i=r).charAt(0).toUpperCase()+i.slice(1)+":")+o[r]+";");var i;return n},addFontDep:e=>{const t=p(e);if(document.querySelector("."+t))return t;const o=document.createElement("style");return o.classList.add(t),o.innerHTML=`\n  @font-face {\n    font-family: "${t}";\n    src: url("${e}");\n  }`,document.head.appendChild(o),t},div:e=>(new DOMParser).parseFromString(e,"text/html").body.childNodes[0],fit:(e,t,o)=>{const n=getComputedStyle(e),r=+n.width.split("px")[0],i=+n.height.split("px")[0],s=r/i;o.style.setProperty("--presenta-h",parseInt(960/s)+"px");const a=960/s,l=96e3/r,c=100*a/i,d=Math.max(l,c);let p="landscape";960<a&&(p="portrait"),o.classList.add(p),t._orientation=p,o.style.setProperty("--presenta-fz",1/(100/d))},event:(e,t)=>new CustomEvent(e,{bubbles:!0,detail:t}),io:{},interpolate:y,addBlockMainKey:h,blocksMainKey:_};const m=["opacity","direction","flexAlign","flexJustify","padding"];var g="style_black__3Nszx";e(".style_black__3Nszx{width:100%;height:100%;position:absolute;top:0;left:0;background-color:#000;opacity:0;pointer-events:none;transition:opacity .5s cubic-bezier(.8,.2,.2,.8);z-index:999999}");const x=[],b=function(e,t,o,n){};b.run=e=>new Promise(((t,o)=>{let n=0,r=0;e.scenes.forEach((e=>{e.blocks.forEach((e=>{const o=x.find((t=>t.type===e.type));if(o){const i=(e,o)=>{setTimeout((()=>{const i=document.createElement("link");i.href=e,i.rel="preload",i.as=o,document.head.appendChild(i),r++,r===n&&t()}),n)};n++,i(e[o.field],o.as)}}))})),0===n&&t()}));v.io.addPreload=e=>{x.push(e)};var w="style_progressbar__37EFM",k="style_bar__3nLkk";e(":root{--progressbarHeight:5px;--progressbarBottom:initial}.style_progressbar__37EFM{--progressbarColor:var(--colorFore);width:100%;height:100%;pointer-events:none}.style_bar__3nLkk{width:0;height:var(--progressbarHeight);position:absolute;bottom:var(--progressbarBottom);left:0;background-color:var(--progressbarColor);transition:width .5s cubic-bezier(.8,.2,.2,.8)}"),v.addProp(["progressbarHeight","progressbarBottom","progressbarColor"]);var z="style_limitswitch__3g8Lq",C="style_signalSet__GRA42",j="style_signalOut__2qd5k";e(".style_limitswitch__3g8Lq{pointer-events:none;opacity:0;background-color:var(--colorAccent);width:100%;height:100%;position:absolute;top:0;left:0}.style_signalSet__GRA42{opacity:.75}.style_signalOut__2qd5k{transition:opacity .35s ease-out;opacity:0}");var P="style_sync__2HAFR";e(".style_sync__2HAFR{width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:none}");const $=[],S=function(e,t,o,n){};v.io.addCache=e=>{$.push(e)},S.run=e=>new Promise(((t,o)=>{let n=0,r=0;const i=e=>{const t=$.find((t=>t.type===e.type));t&&e[t.field]&&s.push(e)},s=[];e.scenes.forEach((e=>{e.blocks.forEach((e=>{i(e),"group"===e.type&&e.blocks.forEach((e=>i(e)))}))})),0===s.length&&t(),s.forEach((e=>{n++,(e=>{fetch(e.url).then((o=>{o.text().then((o=>{e._cache=o,r++,r===n&&t()}))})).catch((o=>{r++,e._cache=o+": "+e.url,r===n&&t()}))})(e)}))}));const B=[],E=function(e,t,o,n){},L=(e,t)=>{const o=B.find((t=>t.type===e.type));o&&(o.html?((e,t)=>{const o=(new DOMParser).parseFromString(e.text,"text/html").body,n=o.querySelectorAll("img");Array.from(n).forEach((e=>{const o=e.getAttribute("src");new RegExp("^(?:[a-z]+:)?//","i").test(o)||(e.src=t+o)})),e.text=o.innerHTML})(e,t):((e,t,o)=>{const n=e[t];n&&o&&(new RegExp("^(?:[a-z]+:)?//","i").test(n)||(e[t]=o+n))})(e,o.field,t))};E.run=(e,t)=>new Promise(((o,n)=>{const r=t;e.scenes.forEach((e=>{e.blocks.forEach((e=>{("group"===e.type?e.blocks:[e]).forEach((e=>{L(e,r)}))}))})),o()}));v.io.addBaseurl=e=>{B.push(e)};e(".transition__fadeIn .p-scene-enter-transition{transition:opacity .75s cubic-bezier(.2,.8,.05,.95)}.transition__fadeIn .to-right.p-scene-enter-start{opacity:0;transform:translate(0)}.transition__fadeIn .to-right.p-scene-enter-end{opacity:1}.transition__fadeIn .to-left.p-scene-enter-start{opacity:0;transform:translate(0)}.transition__fadeIn .to-left.p-scene-enter-end{opacity:1}");e(".transition__hSlide .p-scene-enter-transition{transition:transform .75s cubic-bezier(.87,0,.13,1)}.transition__hSlide .to-right.p-scene-enter-start{transform:translateX(100%)}.transition__hSlide .to-right.p-scene-enter-end{transform:translateX(0)}.transition__hSlide .to-left.p-scene-enter-start{transform:translateX(-100%)}.transition__hSlide .to-left.p-scene-enter-end{transform:translateX(0)}.transition__hSlide .p-scene-leave-transition{transition:transform .75s cubic-bezier(.87,0,.13,1)}.transition__hSlide .to-right.p-scene-leave-start{transform:translateX(0)}.transition__hSlide .to-right.p-scene-leave-end{transform:translateX(-100%)}.transition__hSlide .to-left.p-scene-leave-start{transform:translateX(0)}.transition__hSlide .to-left.p-scene-leave-end{transform:translateX(100%)}");e(".transition__vSlide .p-scene-enter-transition{transition:transform .75s cubic-bezier(.87,0,.13,1)}.transition__vSlide .to-right.p-scene-enter-start{transform:translateY(100%)}.transition__vSlide .to-right.p-scene-enter-end{transform:translateY(0)}.transition__vSlide .to-left.p-scene-enter-start{transform:translateY(-100%)}.transition__vSlide .to-left.p-scene-enter-end{transform:translateY(0)}.transition__vSlide .p-scene-leave-transition{transition:transform .75s cubic-bezier(.87,0,.13,1)}.transition__vSlide .to-right.p-scene-leave-start{transform:translateY(0)}.transition__vSlide .to-right.p-scene-leave-end{transform:translateY(-100%)}.transition__vSlide .to-left.p-scene-leave-start{transform:translateY(0)}.transition__vSlide .to-left.p-scene-leave-end{transform:translateY(100%)}");e(".transition__slideOver .p-scene-enter-transition{transition:all .75s cubic-bezier(.2,.8,.05,.95)}.transition__slideOver .p-scene-enter-start{transform:translateY(-150%)}.transition__slideOver .p-scene-enter-end{transform:translateY(0)}.transition__slideOver .p-scene-leave-transition{transition:all .75s cubic-bezier(.2,.8,.05,.95)}.transition__slideOver .p-scene-leave-start{transform:scale(1)}.transition__slideOver .p-scene-leave-end{transform:scale(.5)}");const F=["fadeIn","hSlide","vSlide","slideOver"],T={keyboard:function(e,t,o,n){e.parentNode.addEventListener("keyup",(e=>{"ArrowRight"!==e.key&&"ArrowDown"!==e.key||(t.next(),e.stopPropagation(),e.preventDefault()),"ArrowLeft"!==e.key&&"ArrowUp"!==e.key||(t.prev(),e.stopPropagation(),e.preventDefault())}))},arrows:function(e,l,c,d){let p=null,_=0;const h="vertical"===c.direction?n:"",u=v.rawProps("arrows",m,c),f=h?'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="16 12 12 8 8 12"></polyline><line x1="12" y1="16" x2="12" y2="8"></line></svg>':'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line></svg>',y=h?'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-down-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="8 12 12 16 16 12"></polyline><line x1="12" y1="8" x2="12" y2="16"></line></svg>':'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right-circle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line></svg>',g=v.div(`<div class="${t} ${h}"></div>`),x=v.div(`<div class="${o}" style="${u}"></div>`),b=v.div(`<div id="evt_trg_ctrl_arrow_left" class="${r}">\n    <div class="${s}">${f}</div>\n  </div>`);x.appendChild(b);const w=v.div(`<div id="evt_trg_ctrl_arrow_right" class="${i}">\n    <div class="${s}">${y}</div>\n  </div>`);x.appendChild(w),g.appendChild(x),e.appendChild(g),b.addEventListener("click",(e=>{l.prev(),z()})),w.addEventListener("click",(e=>{l.next(),z()}));const k=t=>{_++,2===_&&e.parentNode.addEventListener("mousemove",(e=>{z()})),b.style.visibility="visible",w.style.visibility="visible",t.isFirst&&(b.style.visibility="hidden"),t.isLast&&t.totalSteps===t.currentStep&&(w.style.visibility="hidden")};l.on("stepChanged",(e=>{k(e)})),l.on("indexChanged",(e=>{k(e)})),l.on("inited",(e=>{k(e)}));const z=()=>{clearTimeout(p),g.classList.remove(a),p=setTimeout((()=>{g.classList.add(a)}),1500)};this._el=g},black:function(e,t,o,n){let r=!1;const i=v.div(`<div class="${g}"></div>`);e.appendChild(i);const s=o.key||"b";e.parentNode.addEventListener("keyup",(e=>{e.key===s&&(r=!r,i.style.opacity=r?1:0,e.stopPropagation(),e.preventDefault())}))},fullscreen:function(e,t,o,n){const r=o.key||"f",i=e.parentNode,s=i.parentNode,a=()=>{var e;document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():(e=s).requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullscreen&&e.msRequestFullscreen()};this.toggle=a,t.on("toggleFullscreen",a),i.addEventListener("keyup",(e=>{e.key===r&&(a(),e.stopPropagation(),e.preventDefault())}))},focus:function(e,t,o,n){const r=e.parentNode;new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&r.focus({preventScroll:!0})}))})).observe(r)},preload:b,progressbar:function(e,t,o,n){if("preview"===n.mode)return;const r=v.div(`<div class="${w}"></div>`),i=v.div(`<div class="${k}"></div>`);r.appendChild(i),e.appendChild(r);const s=n.scenes.length;t.on("indexChanged",(e=>{(e=>{const t=(e.currentIndex+1)/s*100;i.style.width=t+"%"})(e)}))},shuffle:function(e,t,o,n){(e=>{for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}})(n.scenes)},loop:function(e,t,o,n){t.on("end",(e=>{t.goto(0)}))},current:function(e,t,o,n){const r=o&&o>0&&o<=n.scenes.length?o-1:0;t.setCurrentIndex(r)},hidecursor:function(e,t,o,n){e.parentNode.style.cursor="none"},hidden:function(e,t,o,n){const r=[],i=n.scenes;i.forEach(((e,t)=>{const o=e.blocks,n=[];e.hidden?r.push(t):o.forEach(((e,t)=>{e.hidden&&n.push(t)}));for(var i=o.length-1;i>=0;i--)n.indexOf(i)>=0&&o.splice(i,1)}));for(var s=i.length-1;s>=0;s--)r.indexOf(s)>=0&&i.splice(s,1)},limitswitch:function(e,t,o,n){let r,i;const s=v.div(`<div class="${z}"></div>`);e.appendChild(s);const a=()=>{clearTimeout(r),clearTimeout(i),s.classList.remove(C,j),s.classList.add(C),r=setTimeout((()=>{s.classList.add(j)}),16),i=setTimeout((()=>{s.classList.remove(C,j)}),350)};t.on("begin",(e=>{a()})),t.on("end",(e=>{a()}))},sync:function(e,t,o,n){if(!window.BroadcastChannel)return console.log("[sync controller] disabled due browser incompatibility"),!1;const r=new BroadcastChannel("presenta.sync"),i=v.div(`<div class="${P}"></div>`);e.appendChild(i),r.onmessage=t=>{const o=t.data,n=o.name,r=o.props;if(0===n.indexOf("key")){const t={key:r.key};e.parentNode.dispatchEvent(new KeyboardEvent(n,t))}if(0===n.indexOf("mouse")||0===n.indexOf("click")){const t={x:r.x,y:r.y},o=r.uuid;((o?e.parentNode.querySelector("#"+o):e.parentNode)||e.parentNode).dispatchEvent(new MouseEvent(n,t))}};const s=(e,t)=>{const o={key:t.key,type:t.type};t.isTrusted&&r.postMessage({name:e,props:o})};e.parentNode.addEventListener("keydown",(e=>{s("keydown",e)})),e.parentNode.addEventListener("keyup",(e=>{s("keyup",e)})),e.parentNode.addEventListener("click",(e=>{((e,t)=>{console.log(t.target,t.currentTarget);const o=t.target,n={uuid:o?o.getAttribute("id"):null,type:t.type,x:t.clientX,y:t.clientY};t.isTrusted&&r.postMessage({name:e,props:n})})("click",e)}))},rsync:function(e,t,o,n){if(!window.BroadcastChannel)return console.log("rsync controller is disabled because browser incompatibility"),!1;const r=new BroadcastChannel("presenta.rsync");let i=!1;const s=(e,t)=>{i||r.postMessage({name:e,props:t}),i=!1};t.on("next",(e=>{s("next",e)})),t.on("prev",(e=>{s("prev",e)})),t.on("goto",(e=>{s("goto",e)})),r.onmessage=e=>{const o=e.data,n=o.name,r=o.props;switch(i=!0,n){case"next":t.next();break;case"prev":t.prev();break;case"goto":t.goto(r.currentIndex)}}},cache:S,baseurl:E,transitions:function(e,t,o,n){if("present"!==n.mode)return!1;const r="object"==typeof o?o.preset:o;F.indexOf(r)>=0&&n._root.classList.add(`transition__${r}`)}};var A={stepItem:"style_stepItem__1Iv29",fadeIn:"style_fadeIn__1qNon",zoomOut:"style_zoomOut__FobL2",zoomIn:"style_zoomIn__3R2ad",slideUp:"style_slideUp__2aPxJ",slideDown:"style_slideDown__3Wu--"};e(".style_stepItem__1Iv29{transition:opacity 1.33s cubic-bezier(.19,1,.22,1),transform 1.33s cubic-bezier(.19,1,.22,1);transform-origin:center}.style_fadeIn__1qNon{opacity:0!important}.style_zoomOut__FobL2{opacity:0!important;transform:scale(1.3)!important}.style_zoomIn__3R2ad{opacity:0!important;transform:scale(.7)!important}.style_slideUp__2aPxJ{opacity:0!important;transform:translateY(40px)!important}.style_slideDown__3Wu--{opacity:0!important;transform:translateY(-40px)!important}");const I=["fadeIn","zoomOut","zoomIn","slideUp","slideDown"],O=["sequential","match"],R=e=>{let t=null,o=null,n=null,r=null;return"string"==typeof e&&(t=e),"object"==typeof e&&(t=e.selector,o=e.transition,n=e.mode,r=e.out),{tag:t,trans:o,mode:n,out:r}};e("[jump]{cursor:pointer}");e(".noresize.sceneObject{width:100%;height:100%}.noresize.sceneObject .sceneWrapper{width:100%;height:100%;transform:scale(1)}");const q=["colorBack","colorFore","colorAccent","colorAlt"],D=function(e,t,o){if("object"!=typeof t)return!1;if("block"===o.contextType)return;const n=this;return new Promise(((o,r)=>{["Text","Head","Alt"].forEach((o=>{const n=t["font"+o];if(n){const t=v.addFontDep(n);e.style.setProperty("--font"+o,t)}})),o(n)}))};D.runBefore=!0;const M={};D.run=e=>{const t=["fontText","fontHead","fontAlt"];let o=0,n=0;return new Promise(((r,i)=>{const s=e.modules.fonts;s?(t.forEach((e=>{const t=s[e];t&&(o++,M[t]?(n++,o===n&&r()):(M[t]=!0,fetch(s[e]).then((e=>{n++,o===n&&r()}))))})),0===o&&r()):r()}))};const U=["opacity","blend","radius","border","padding","background","color","clip","shadow"],N=function(e,t,o){((e,t)=>{if("object"!=typeof t)return!1;U.forEach((o=>{const n=t[o];var r;e.style.setProperty("--block"+((r=o).charAt(0).toUpperCase()+r.slice(1)),n)}))})(e,t)};N.runBefore=!0;const J=function(e,t,o){const n=t.css;n&&e.style.setProperty(`--${o.contextType}Padding`,n)};J.runBefore=!0;const W=["top","left","width","height","angle","right","bottom","skew"],H=function(e,t,o){((e,t)=>{if("object"!=typeof t)return!1;W.forEach((o=>{const n=t[o];if(n){const t=+n;t&&"number"==typeof t?e.style.setProperty("--"+o,t+"%"):e.style.setProperty("--"+o,n)}}))})(e,t)};H.runBefore=!0;var Y="style_pagenum__1ycBY",K="style_inner__AbrJj",V="style_content__1CXpQ";e(".style_pagenum__1ycBY{--pagenumTextAlign:right;--pagenumPadding:.75rem;--pagenumFontSize:.9rem;--pagenumBackColor:none;--pagenumFont:var(--fontText);--pagenumColor:var(--colorFore);--pagenumFlexAlign:flex-end;--pagenumFlexJustify:flex-end;width:100%;height:100%;position:absolute;top:0;left:0;padding:var(--containerPaddingTop) var(--containerPaddingRight) var(--containerPaddingBottom) var(--containerPaddingLeft);pointer-events:none}.style_inner__AbrJj{width:100%;height:100%;padding:var(--pagenumPadding);display:flex;align-items:var(--pagenumFlexAlign);justify-content:var(--pagenumFlexJustify)}.style_content__1CXpQ{text-align:var(--pagenumTextAlign);padding:var(--pagenumInnerPadding);font-size:var(--pagenumFontSize);color:var(--pagenumColor);font-family:var(--pagenumFont);background-color:var(--pagenumBackColor);border:var(--pagenumBorder);border-radius:var(--pagenumBorderRadius);transition:all .3s ease-in-out}");const X=["textAlign","padding","innerPadding","fontSize","font","backColor","color","border","borderRadius","flexAlign","flexJustify"];var G={reveal:"style_reveal__3Cs6V",inner:"style_inner__3rqnR",content:"style_content__bTAxU",preview:"style_preview__2jDoF",exitSlideUp:"style_exitSlideUp__s74jg",exitFadeOut:"style_exitFadeOut__12FkH"};e(".style_reveal__3Cs6V{--revealTextAlign:center;--revealPadding:5px;--revealFontSize:2rem;--revealFont:var(--fontText);--revealBackColor:var(--colorFore);--revealColor:var(--colorBack);--revealFlexAlign:center;--revealFlexJustify:center;width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:none;transition-property:opacity,transform;transition-duration:1.33s;transition-timing-function:cubic-bezier(.19,1,.22,1)}.style_inner__3rqnR{width:100%;height:100%;padding:var(--revealPadding);background-color:var(--revealBackColor);display:flex;align-items:var(--revealFlexAlign);justify-content:var(--revealFlexJustify)}.style_content__bTAxU{text-align:var(--revealTextAlign);font-size:var(--revealFontSize);color:var(--revealColor);font-family:var(--revealFont)}.style_preview__2jDoF{opacity:.3}.style_exitSlideUp__s74jg{transform:translateY(-100%)}.style_exitFadeOut__12FkH{opacity:0}");const Q=["textAlign","padding","fontSize","font","backColor","color","flexAlign","flexJustify"];var Z={entersItem:"style_entersItem__2uGyd",fadeIn:"style_fadeIn__10W0K",zoomOut:"style_zoomOut__1wM1b",zoomIn:"style_zoomIn__38KfE",slideUp:"style_slideUp__2b3jJ",slideDown:"style_slideDown__UD-oC"};e(".style_entersItem__2uGyd{transition:opacity 1.5s cubic-bezier(.19,1,.22,1),transform 1.5s cubic-bezier(.19,1,.22,1);transform-origin:center}.style_fadeIn__10W0K{opacity:0!important;transition-timing-function:ease-in-out}.style_zoomOut__1wM1b{opacity:0!important;transform:scale(1.3)!important}.style_zoomIn__38KfE{opacity:0!important;transform:scale(.7)!important}.style_slideUp__2b3jJ{opacity:0!important;transform:translateY(40px)!important}.style_slideDown__UD-oC{opacity:0!important;transform:translateY(-40px)!important}");const ee=["fadeIn","zoomOut","zoomIn","slideUp","slideDown"];var te="style_viewportLimit__2yPva";e(".style_viewportLimit__2yPva{width:100%;height:100%;position:absolute;border:3px dashed red;pointer-events:none;visibility:hidden}");const oe=(e,t)=>{const o=document.createElement("script");o.setAttribute("class","sdpmodulescriptcontainer"),o.setAttribute("type","module"),o.setAttribute("async",""),o.innerHTML=t,o.src=e,document.body.appendChild(o)},ne=function(e,t,o){if("preview"!==o._mode&&"scene"===o.contextType)return new Promise(((e,n)=>{const r={};o.blocks.forEach((e=>{r[e.ukey]=e})),r._otherParams=o.otherParams,window._sdpconfigobject=r,window._sdpscriptexportedresult={},window._sdpcallbackfunc=()=>{console.log("_sdpcallbackfunc"),window._sdpcallbackfunc=null,window._sdpconfigobject=null,e()};[...document.querySelectorAll(".sdpmodulescriptcontainer")].forEach((e=>document.body.removeChild(e)));let i=`\nconst index = ${o.index}\nconst exportedResult = window._sdpscriptexportedresult\n\nconst params = window._sdpconfigobject._otherParams\n    `;o.blocks.forEach((e=>{i+=`\nconst ${e.ukey} = window._sdpconfigobject.${e.ukey}\n`})),i+=`\n\n${t.header}\n\ntry{\n\n${t.code}\n\n}catch(err){\nconsole.log('error in module', err)\n}\nexport default {}`;let s=URL.createObjectURL(new Blob([i],{type:"application/javascript"}));oe(s,i);const a=`\nimport _sdpPrivateInput from '${s}'\nwindow._sdpcallbackfunc()\n`;s=URL.createObjectURL(new Blob([a],{type:"application/javascript"})),oe(s,a)}))};ne.runBefore=!0;const re={coords:H,steps:function(e,t,o){if("present"!==o._mode)return;if("scene"!==o.contextType)return;const n=R(t);let r=n.tag||".step";const i=n.out||!1;let s=n.trans||I[0];const a=n.mode||O[0],l=R(o.steps);let c=l.mode||l.tag||a;-1===O.indexOf(c)&&(c=O[0]),r=l.tag||r,s=l.trans||s;let d=0;const p={};let _=[];const h=o.blocks.filter((e=>!(e.hasOwnProperty("steps")&&!e.steps)));let u=null;h.forEach((e=>{const t=e._el,n=R(e.steps),a=n.tag||r,l=n.out||i;let h=n.trans||s;-1===I.indexOf(h)&&(h=I[0]);const u=a.split(","),f=[];u.forEach((e=>{const o=e.indexOf("#")>=0,n=t[o?"querySelector":"querySelectorAll"](e);if(o)f.push({selector:e,els:n?[n]:[]});else{const t=Array.from(n);t.sort(((e,t)=>e.dataset.order-t.dataset.order)),f.push({selector:e,els:t})}})),"sequential"===c&&f.forEach((e=>{const t=e.els;_=_.concat(t),t.forEach((e=>{e.classList.add(A[h]);const t={sandbox:"steps",index:d,trans:h,out:l,els:[e]};o._steps.push(t),d++}))})),"match"===c&&f.forEach((e=>{const t=e.selector,o=e.els;p[t]?(p[t].arr=p[t].arr.concat(o),p[t].outs.push(l)):p[t]={arr:o,trans:h,outs:[l]}}))}));for(const e in p){const t=p[e].trans,n=p[e].outs;p[e].arr.forEach((e=>e.classList.add(A[t])));const r={sandbox:"steps",index:d,trans:t,outs:n,out:n.find((e=>!0===e)),els:p[e].arr};o._steps.push(r),d++}setTimeout((()=>{_.forEach((e=>{e.classList.add(A.stepItem)}));for(const e in p)p[e].arr.forEach((e=>e.classList.add(A.stepItem)))}),100),this.stepForward=e=>{if("steps"===e.sandbox){u&&(u.forEach(((t,o)=>{(e.outs?e.outs[o]:e.out)&&t.classList.add(A[e.trans])})),u=null);const t=e.els;t.forEach((t=>t.classList.remove(A[e.trans]))),e.out&&(u=t)}}},jump:function(e,t,o){const n=[];[...e.querySelectorAll("[jump]")].forEach((e=>{const t=e.getAttribute("jump"),r=parseInt(t);if(r>0){const t=e=>{o._router.goto(r-1)};e.addEventListener("click",t),n.push({el:e,handler:t})}})),this.destroy=()=>{n.forEach((e=>{e.el.removeEventListener("click",e.handler)}))}},noresize:function(e,t,o){!(!o.noresize&&!t)&&e.querySelector(".sceneObject").classList.add("noresize")},colors:function(e,t,o){if("object"!=typeof t)return!1;"block"!==o.contextType&&q.forEach((o=>{t[o]&&e.style.setProperty("--"+o,t[o])}))},fonts:D,styles:N,paddings:J,autoplay:function(e,t,o){if("preview"===o._mode)return;let n=null;const r=o._router;let i=4e3;switch(typeof t){case"number":i=t;break;case"string":i=+t;break;case"object":i=+t.delay;break;default:i=4e3}n=setTimeout((()=>{r.next()}),i),r.on("indexChanged",(e=>{clearTimeout(n)})),r.on("stepChanged",(e=>{clearTimeout(n)}))},pagenum:function(e,t,o){const n=v.rawProps("pagenum",X,t),r=v.div(`<div class="${Y}"></div>`),i=v.div(`<div class="${K}" style="${n}"></div>`),s=v.div(`<div class="${V}"></div>`);i.appendChild(s),r.appendChild(i),e.querySelector(".sceneWrapper").appendChild(r);const a=t.template?t.template:"%s / %S",l=o._router,c=l.currentIndex(),d=l.totalScenes(),p=c+1,_=a.replace(/%s/gm,p).replace(/%S/gm,d);s.innerHTML=_},reveal:function(e,t,o){let n="";"preview"===o._mode&&(n=G.preview);const r=v.rawProps("reveal",Q,t);o._steps.push({sandbox:"reveal"});const i=t.text?t.text:"",s=t.effect?G[t.effect]:G.exitSlideUp,a=v.div(`<div class="${G.reveal} ${n}"></div>`),l=v.div(`<div class="${G.inner}" style="${r}"></div>`),c=v.div(`<div class="${G.content}">${i}</div>`);l.appendChild(c),a.appendChild(l),e.querySelector(".sceneWrapper").appendChild(a),this.stepForward=e=>{"reveal"===e.sandbox&&a.classList.add(s)}},enters:function(e,t,o){if("present"!==o._mode)return;const n=t.transition||ee[0];let r=t.delay?parseInt(t.delay):1e3;if(t.stagger&&(r+=200*o._index),"block"===o.contextType){const e=o._el.querySelector(".blockContainer");e.classList.add(Z[n]),setTimeout((()=>{e.classList.add(Z.entersItem)}),16),setTimeout((()=>{e.classList.remove(Z[n])}),r)}},fabricbridge:function(e,t,o){if("block"===o.contextType)return;const n=e.querySelector(".blocksContainer"),r=v.div(`<div class="${te}"></div>`);n.parentNode.appendChild(r);const i=e=>{const t=o.blocks[e.index],n=t._el;for(var r in e.coords){const t=e.coords[r];n.style.setProperty("--"+r,t)}t.modules.coords=e.coords},s=o._router;s.on("live:block:update",i);const a=()=>{n.style.overflow="inherit",r.style.visibility="visible"};s.on("live:block:begin",a);const l=()=>{n.style.overflow="hidden",r.style.visibility="hidden"};s.on("live:block:end",l),this.destroy=()=>{s.off("live:block:update",i),s.off("live:block:begin",a),s.off("live:block:end",l)}},script:ne};var ie={text:"style_text__3T1cl",overlay:"style_overlay__y-8bq",promise:"style_promise__1-2R_",inner:"style_inner__11UJC",pretext:"style_pretext__cLjqD",textbox:"style_textbox__1Vb-V",itext:"style_itext__jz90o"};e('.style_text__3T1cl{width:100%;height:100%;position:relative;--textAlign:center;--textVertical:center;--textHorizontal:center;--textSize:1rem;--textWidth:auto;--textFont:var(--fontText);--textBackground:none;--textColor:var(--colorFore);--textPadding:0;--textLineHeight:inherit;--textBorderTop:none;--textBorderLeft:none;--textBorderRight:none;--textBorderBottom:none;--textBorderRadius:0;--textShadow:none;--textBlend:none}.style_overlay__y-8bq:before{left:0;top:0;width:100%;height:100%;position:absolute;content:"";background:var(--colorBack);opacity:.6}.style_promise__1-2R_{visibility:hidden}.style_inner__11UJC{position:relative;width:100%;height:100%}.style_pretext__cLjqD{display:flex;width:100%;height:100%;align-items:var(--textVertical);justify-content:var(--textHorizontal)}.style_textbox__1Vb-V{text-align:var(--textAlign);font-size:var(--textSize);font-family:var(--textFont);--backmark:var(--colorAccent);--foremark:var(--colorBack);--textaccentcolor:var(--colorAccent);width:var(--textWidth)}.style_itext__jz90o{padding:var(--textPadding);background:var(--textBackground);color:var(--textColor);line-height:var(--textLineHeight);border-top:var(--textBorderTop);border-left:var(--textBorderLeft);border-right:var(--textBorderRight);border-bottom:var(--textBorderBottom);border-radius:var(--textBorderRadius);box-shadow:var(--textShadow);mix-blend-mode:var(--textBlend)}.style_itext__jz90o img{-o-object-fit:contain;object-fit:contain;height:4em;vertical-align:middle}.style_itext__jz90o mark{background-color:var(--backmark);color:var(--foremark);padding:.5rem}.style_itext__jz90o high{color:var(--textaccentcolor)}.style_itext__jz90o bord{border:8px solid var(--backmark);padding:0 .5rem}.style_itext__jz90o a{color:var(--textaccentcolor);text-decoration:underline}.style_itext__jz90o btn{background-color:var(--colorFore);color:var(--colorBack);padding:1rem 2rem;display:inline-block;border-radius:12px;overflow:hidden}.style_itext__jz90o blockquote{font-size:2em;font-weight:400;font-style:italic;font-family:var(--fontAlt)}.style_itext__jz90o blockquote,.style_itext__jz90o h1,.style_itext__jz90o h2,.style_itext__jz90o h3,.style_itext__jz90o h4,.style_itext__jz90o h5,.style_itext__jz90o h6,.style_itext__jz90o p,.style_itext__jz90o ul{margin:0}.style_itext__jz90o h1 b,.style_itext__jz90o h1 strong,.style_itext__jz90o h2 b,.style_itext__jz90o h2 strong,.style_itext__jz90o h3 b,.style_itext__jz90o h3 strong,.style_itext__jz90o h4 b,.style_itext__jz90o h4 strong,.style_itext__jz90o h5 b,.style_itext__jz90o h5 strong,.style_itext__jz90o h6 b,.style_itext__jz90o h6 strong{color:var(--textaccentcolor)}.style_itext__jz90o ol,.style_itext__jz90o ul{text-align:left;margin:0;list-style-type:none;counter-reset:li;padding:.5em 0}.style_itext__jz90o li{list-style-position:inside;margin-bottom:2px;padding:.25em .25em .25em .8em}.style_itext__jz90o ul li:before{content:"\\2013";display:inline-block;width:.8em;margin-left:-.8em}.style_itext__jz90o ol li:before{counter-increment:li;content:"." counter(li);display:inline-block;width:1.1em;margin-left:-1.3em;margin-right:.2em;text-align:right;direction:rtl}.style_itext__jz90o li p{display:inline}.style_itext__jz90o code,.style_itext__jz90o pre{text-align:left;margin:0}.style_itext__jz90o h1,.style_itext__jz90o h2,.style_itext__jz90o h3,.style_itext__jz90o h4,.style_itext__jz90o h5,.style_itext__jz90o h6{font-family:var(--fontHead);padding:.5rem 0}.style_itext__jz90o h1{font-size:2em}.style_itext__jz90o h2{font-size:1.5em}.style_itext__jz90o h3{font-size:1.17em}.style_itext__jz90o h4{font-size:1em}.style_itext__jz90o h5{font-size:.83em}.style_itext__jz90o h6{font-size:.67em}.style_itext__jz90o p{padding:.5rem 0}.style_itext__jz90o p:first-child{padding-top:0}.style_itext__jz90o p:last-child{padding-bottom:0}.style_itext__jz90o hr{border:1px solid var(--colorFore);margin:.5rem 0}.style_itext__jz90o h1:first-child,.style_itext__jz90o h1:last-child,.style_itext__jz90o h2:first-child,.style_itext__jz90o h2:last-child,.style_itext__jz90o h3:first-child,.style_itext__jz90o h3:last-child{padding:0}.style_itext__jz90o table{width:100%}.style_itext__jz90o tr{padding:0}.style_itext__jz90o td,.style_itext__jz90o th{padding:.5rem;border-bottom:1px solid var(--colorFore)}.style_itext__jz90o small{font-size:.6em}');const se=["padding","lineHeight","align","vertical","horizontal"],ae=function(e,t){const o=this;return new Promise(((n,r)=>{const i=t.content||"";if(!i)return n(o);const s=v.rawProps("text",se,t);let a=t.scale;const l=t.autoscale;let c="";const d=v.uid(t);if(t.css){c=`<style>${t.css.replace(/\./gi,"."+d+" .")}</style>`}const p=v.div(`<div class="c ${d} ${ie.text} ${ie.promise}">\n    ${c}\n    <div style="${s}" class="${ie.inner}">\n      <div class="pretext ${ie.pretext}">\n        <div class="${ie.textbox}">\n          <div class="textContent ${ie.itext} ${ie.fadein}">\n            ${i}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>`);e.appendChild(p);let _=!1,h=!1;const u=new ResizeObserver((()=>{h||(u.disconnect(),f())})),f=()=>{p.style.setProperty("--textSize",`${a}rem`);const e=p.querySelector("."+ie.inner),t=p.querySelector("."+ie.textbox);if(!l)return setTimeout((()=>{p.classList.remove(ie.promise),n(o)})),!1;h=!0,_||(u.observe(t),_=!0);const r=e.getBoundingClientRect(),i=t.getBoundingClientRect();if(parseInt(r.width)<parseInt(i.width)||parseInt(r.height)<parseInt(i.height))return a-=.05,f();setTimeout((()=>{p.classList.remove(ie.promise),n(o),h=!1}))};setTimeout(f),o.destroy=()=>{u.disconnect()}}))};ae.init=()=>{},v.addBlockMainKey("text","content");var le="style_inner__3WOWs",ce="style_frame__28PUh",de="style_embed__2Pre2",pe="style_loading__1w7wc",_e="style_blockmouse__3bXSl",he="style_poster__1TOx3";e(":root{--embedPadding:0;--embedBackcolor:none;--embedPosterSize:cover;--embedPosterPosition:center}.style_inner__3WOWs{padding:var(--embedPadding);position:relative}.style_frame__28PUh{background-color:var(--embedBackcolor);position:relative}.style_embed__2Pre2,.style_frame__28PUh,.style_inner__3WOWs{width:100%;height:100%}.style_frame__28PUh>iframe{width:100%;height:100%;border:none}.style_loading__1w7wc{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:var(--colorFore);font-family:var(--fontText);background-color:var(--colorBack)}.style_loading__1w7wc mark{background-color:var(--colorAccent);color:var(--colorBack)}.style_blockmouse__3bXSl,.style_poster__1TOx3{position:absolute;top:0;left:0;width:100%;height:100%}.style_poster__1TOx3{background-color:var(--colorBack)}.style_poster__1TOx3 img{width:100%;height:100%;-o-object-fit:var(--embedPosterSize);object-fit:var(--embedPosterSize);-o-object-position:var(--embedPosterPosition);object-position:var(--embedPosterPosition)}");v.addBlockMainKey("embed","url");var ue="style_image__1fZIQ",fe="style_inner__3tyMU",ye="style_preimg__2ypvx";e(":root{--imagePosition:center;--imageFilter:none;--imageScale:1;--imageSize:cover}.style_image__1fZIQ,.style_inner__3tyMU{width:100%;height:100%}.style_inner__3tyMU{display:flex}.style_preimg__2ypvx{flex:1;display:flex;align-items:center;justify-content:center;overflow:hidden}.style_preimg__2ypvx img{width:calc(var(--imageScale)*100%);height:calc(var(--imageScale)*100%);-o-object-fit:var(--imageSize);object-fit:var(--imageSize);-o-object-position:var(--imagePosition);object-position:var(--imagePosition);filter:var(--imageFilter)}");const ve=["scale","filter","position","size"];v.addBlockMainKey("image","url");var me="style_video__1qbdJ";e(":root{--videoSize:cover;--videoPosition:center}.style_video__1qbdJ{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.style_video__1qbdJ video{width:100%;height:100%;-o-object-fit:var(--videoSize);object-fit:var(--videoSize);-o-object-position:var(--videoPosition);object-position:var(--videoPosition);pointer-events:none}");const ge=function(e,t){t._mode;const o="present"===t._mode,n=t.poster?`poster=${t.poster}`:"",r=t.loop?"loop":"",i=t.muted?"muted":"",s=t.autoplay&&o?"autoplay":"",a=t.url?`src=${t.url}`:"",l=v.div(`<div class="${me}" id="evt_trg_uid_block_video_${t._index}">\n    <video ${n} ${a} ${r} ${s} ${i}></video>\n  </div>`);let c;this.beforeDestroy=()=>{t._rootElement.removeEventListener("keyup",_),l.removeEventListener("click",p)},e.appendChild(l);let d=t.autoplay;const p=e=>{c||(c=l.querySelector("video")),d?c.pause():c.play(),d=!d},_=e=>{" "===e.key&&(p(),e.stopPropagation(),e.preventDefault()),"r"===e.key&&c&&(c.currentTime=0),"m"===e.key&&c&&(c.volume=c.volume?0:1),"+"===e.key&&c&&(c.volume+=.1),"-"===e.key&&c&&(c.volume-=-.1)};o&&(t._rootElement.addEventListener("keyup",_),l.addEventListener("click",p))};ge.init=()=>{v.addProp(["videoSize","videoPosition"]),v.io.addPreload&&v.io.addPreload({type:"video",field:"url",as:"video"}),v.io.addBaseurl&&v.io.addBaseurl({type:"video",field:"url"})},v.addBlockMainKey("video","url");var xe="style_svg__2xfFu",be="style_inner__AjKjt";e(".style_inner__AjKjt,.style_svg__2xfFu,.style_svg__2xfFu svg{width:100%;height:100%}");const we=function(e,t){const o=t._cache||t.code;if(!o)return console.log("[block svg]","The svg is not present");const n=t.aspect||null,r=v.div(`<div class="c ${xe}">\n        <div class="${be}">\n            ${o}\n        </div>\n    </div>`);e.appendChild(r),n&&r.querySelector("svg").setAttribute("preserveAspectRatio",n),this.beforeDestroy=()=>{}};we.init=()=>{v.io.addCache&&v.io.addCache({type:"svg",field:"url"}),v.io.addBaseurl&&v.io.addBaseurl({type:"svg",field:"url"})},v.addBlockMainKey("svg","code");var ke={shape:"style_shape__FgMb3",el:"style_el__2h6ux",circle:"style_circle__311fy",triangle:"style_triangle__1SsU5",rhombus:"style_rhombus__30IVZ",star:"style_star__SnUWn"};e(".style_shape__FgMb3{--shapeColor:var(--colorFore);width:100%;height:100%}.style_el__2h6ux{background:var(--shapeColor);width:100%;height:100%}.style_circle__311fy{-webkit-clip-path:ellipse(50% 50% at 50% 50%);clip-path:ellipse(50% 50% at 50% 50%)}.style_triangle__1SsU5{-webkit-clip-path:polygon(50% 0,0 100%,100% 100%);clip-path:polygon(50% 0,0 100%,100% 100%)}.style_rhombus__30IVZ{-webkit-clip-path:polygon(50% 0,100% 50%,50% 100%,0 50%);clip-path:polygon(50% 0,100% 50%,50% 100%,0 50%)}.style_star__SnUWn{-webkit-clip-path:polygon(50% 0,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);clip-path:polygon(50% 0,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%)}");v.addBlockMainKey("shape","color");var ze={line:"style_line__2r6B4",horizontal:"style_horizontal__Q3OSl",el:"style_el__X2-Ln",vertical:"style_vertical__1ldIK"};e(".style_line__2r6B4{--lineColor:var(--colorFore);--lineTickness:1;width:100%;height:100%;display:flex;align-items:center;justify-content:center}.style_horizontal__Q3OSl .style_el__X2-Ln{width:100%;height:var(--lineTickness)}.style_vertical__1ldIK .style_el__X2-Ln{height:100%;width:var(--lineTickness)}.style_el__X2-Ln{background:var(--lineColor)}");v.addBlockMainKey("line","color");var Ce={gtext:"style_gtext__1adQa",promise:"style_promise__J7Q-m",inner:"style_inner__1CMje",pretext:"style_pretext__39rfL",textbox:"style_textbox__3ByVj",itext:"style_itext__21Sh6",marked:"style_marked__PG23h",uppercase:"style_uppercase__3B-CJ",underline:"style_underline__L52GP",clamp:"style_clamp__2gjUG"};e(".style_gtext__1adQa{width:100%;height:100%;position:relative;--textAlign:center;--textVertical:center;--textHorizontal:center;--textSize:1rem;--textWidth:auto;--textFont:var(--fontText);--textBackground:none;--textColor:none;--textPadding:0;--textLineHeight:inherit;--textSpaceChar:inherit;--textBorderTop:none;--textBorderLeft:none;--textBorderRight:none;--textBorderBottom:none;--textBorderRadius:0;--textShadow:none;--textBlend:none;--textClamp:0}.style_promise__J7Q-m{visibility:hidden}.style_inner__1CMje{position:relative;width:100%;height:100%}.style_pretext__39rfL{display:flex;width:100%;height:100%;align-items:var(--textVertical);justify-content:var(--textHorizontal)}.style_textbox__3ByVj{text-align:var(--textAlign);font-size:var(--textSize);font-family:var(--textFont);--backmark:var(--colorAccent);--foremark:var(--colorBack);--textaccentcolor:var(--colorAccent);width:var(--textWidth)}.style_itext__21Sh6{padding:var(--textPadding);background:var(--textBackground);color:var(--textColor);line-height:var(--textLineHeight);letter-spacing:var(--textSpaceChar);border-top:var(--textBorderTop);border-left:var(--textBorderLeft);border-right:var(--textBorderRight);border-bottom:var(--textBorderBottom);border-radius:var(--textBorderRadius);text-shadow:var(--textShadow);mix-blend-mode:var(--textBlend)}.style_marked__PG23h span{background:var(--textAccent);color:var(--textColor)}.style_uppercase__3B-CJ{text-transform:uppercase}.style_underline__L52GP{text-decoration:underline;-webkit-text-decoration-color:var(--textColor);text-decoration-color:var(--textColor)}.style_clamp__2gjUG{overflow:hidden;-webkit-line-clamp:var(--textClamp);display:-webkit-box;-webkit-box-orient:vertical}");const je=["background","color","accent","padding","lineHeight","spaceChar","borderTop","borderLeft","borderRight","borderBottom","borderRadius","shadow","blend","align","vertical","horizontal"],Pe=["marked","uppercase","underline"];v.addBlockMainKey("gtext","content");const $e={text:ae,embed:function(e,t){const o="present"===t._mode||"print"===t._mode||t.overrideMode;let n=null;if(t.url&&(n=`<iframe src="${t.url}"></iframe>`),t.code&&(n=t.code),!n)return!1;const r=this;return new Promise(((i,s)=>{const a=(e=>{if(!e)return"";const t=new RegExp('src="(.*)',"gim").exec(e)[1].match(/http(s?):\/\/([\w]+\.){1}([\w]+\.?)+/gim);return t&&t.length>0?t[0]:null})(n),l=`<div class="cover ${pe}"><h1>${a?`Embed from <mark>${a}</mark>`:"Embed resource"}</h1></div>`,c=t.blockPointer?`<div class='${_e}' />`:"",d=t.poster?`<div class="${he}"><img src="${t.poster}" /></div>`:"",p=()=>{h.querySelector("."+pe).style.display="none",h.querySelector("."+he).style.display="none",i(r)},_=t.waitReady;o&&_&&(console.log("waitReady"),window.addEventListener("message",(e=>{console.log("message",e.data),"presenta.iframe.ready"===e.data&&p()})));const h=v.div(`<div class="c ${de}">\n    <div class="${le}">\n        <div class="${ce}">${n}</div>\n        ${l}\n        ${d}\n        ${c}\n    </div>\n  </div>`);if(e.appendChild(h),o){const e=h.querySelector("iframe");_||(console.log("waitLoad"),e.addEventListener("load",(()=>{console.log("load"),p()})))}else i(r)}))},image:function(e,t){const o=t.url;if(!o)return!1;const n=this;return new Promise(((r,i)=>{const s=v.rawProps("image",ve,t),a=`<div class="presentablock__image ${ye}"></div>`,l=v.div(`<div class="${ue}">\n    <div style="${s}" class="imagesContainer ${fe}">\n        ${a}\n    </div>\n  </div>`);e.appendChild(l);const c=e.querySelector("."+ye),d=new Image;d.onload=()=>{c.appendChild(d),r(n)},d.onerror=()=>{r(n)},d.src=o}))},video:ge,svg:we,shape:function(e,t){const o=v.rawProps("shape",["color","border"],t),n=t.shape||"rect",r=ke[n],i=v.div(`<div class="${ke.shape}">\n    <div style="${o}" class="${ke.el} ${r}"></div>\n  </div>`);e.appendChild(i)},line:function(e,t){const o=v.rawProps("line",["color","tickness"],t),n=t.direction||"horizontal",r=ze[n],i=v.div(`<div class="${ze.line} ${r}">\n    <div style="${o}" class="${ze.el}"></div>\n  </div>`);e.appendChild(i)},gtext:function(e,t){const o=this;return new Promise(((n,r)=>{const i=t.content||"";if(!i)return n(o);let s=v.rawProps("text",je,t),a=t.scale;const l=t.autoscale;let c="";if(Pe.forEach((e=>{t[e]&&(c+=Ce[e]+" ")})),t.font){s+=` --textFont:${v.addFontDep(t.font)};`}const d=t.lineClamp;let p="";d&&(s+="--textClamp: "+d,p=Ce.clamp);const _=v.div(`<div class="c ${Ce.stext} ${Ce.promise} ${c}">\n    <div style="${s}" class="${Ce.inner}">\n      <div class="pretext ${Ce.pretext}">\n        <div class="${Ce.textbox}">\n          <div class="textContent ${Ce.itext} ${p}">\n            <span>${i}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>`);e.appendChild(_);let h=!1,u=!1;const f=new ResizeObserver((()=>{u||(f.disconnect(),y())})),y=()=>{_.style.setProperty("--textSize",`${a}rem`);const e=_.querySelector("."+Ce.inner),t=_.querySelector("."+Ce.textbox);if(!l)return setTimeout((()=>{_.classList.remove(Ce.promise),n(o)})),!1;u=!0,h||(f.observe(t),h=!0);const r=e.getBoundingClientRect(),i=t.getBoundingClientRect();if(parseInt(r.width)<parseInt(i.width)||parseInt(r.height)<parseInt(i.height))return a-=.05,y();setTimeout((()=>{_.classList.remove(Ce.promise),n(o),u=!1}))};t.font?fetch(t.font).then((e=>{setTimeout(y)})):setTimeout(y),o.destroy=()=>{f.disconnect()}}))}};var Se="splash_splash__3mb9V",Be="splash_spinner__3jef_";e(".splash_splash__3mb9V{width:100%;height:100%;background-color:var(--colorBack);color:var(--colorFore);display:flex;flex-direction:column;align-items:center;justify-content:center;font-family:var(--fontHead)}.splash_spinner__3jef_{display:flex;animation:splash_spin__Dy8Lf 2s linear infinite}@keyframes splash_spin__Dy8Lf{to{transform:rotate(1turn)}}");const Ee=function(e,t){const o=t.aspect||1.6,n=getComputedStyle(e);let r=+n.width.split("px")[0],i=+n.height.split("px")[0];r<50&&(r=360,e.style.width=`${r}px`),i<50&&(i=200,i=r/o,e.style.height=`${i}px`);const s=t.loading||"",a=v.div(`<div class="${Se}">\n    <div class="${Be}"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-loader"><line x1="12" y1="2" x2="12" y2="6"></line><line x1="12" y1="18" x2="12" y2="22"></line><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"></line><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"></line><line x1="2" y1="12" x2="6" y2="12"></line><line x1="18" y1="12" x2="22" y2="12"></line><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"></line><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"></line></svg></div>\n    ${s}\n  </div>`);e.appendChild(a),v.globs(a,t),this.destroy=()=>{e.removeChild(a)}};var Le="container_mainwrapper__zelcO",Fe="container_superContainer__2mwZX",Te="container_container__3kBNh";e(":root{--containerPaddingTop:0;--containerPaddingLeft:0;--containerPaddingRight:0;--containerPaddingBottom:0}.container_mainwrapper__zelcO{width:100%;height:100%;position:relative;outline:none}.container_superContainer__2mwZX{padding:var(--containerPaddingTop) var(--containerPaddingRight) var(--containerPaddingBottom) var(--containerPaddingLeft)}.container_container__3kBNh,.container_superContainer__2mwZX{width:100%;height:100%;position:relative}.container_container__3kBNh>div{position:absolute;top:0;left:0}");var Ae="router_router__2r4NQ",Ie="router_ignorePad__4q1nG";e(".router_router__2r4NQ{width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:none}.router_router__2r4NQ>div{padding:var(--containerPaddingTop) var(--containerPaddingRight) var(--containerPaddingBottom) var(--containerPaddingLeft)}.router_router__2r4NQ>div.router_ignorePad__4q1nG{padding:0}");const Oe=function(e,t){const o=v.div(`<div class="controller ${Ae}"></div>`);e.appendChild(o);const n=t.scenes,r=()=>n.length-1,i={},s={};let a=0,l=0;const c=()=>n[a]&&n[a]._steps?n[a]._steps.length:0;this.next=()=>{l===c()?this.nextIndex():(l++,d("stepChanged")),d("next")},this.prev=()=>{this.prevIndex(),d("prev")},this.nextIndex=()=>{a<r()?(a++,l=0,d(["nextIndex","indexChanged"])):(a=r(),l=c(),d("end"))},this.prevIndex=()=>{a>0?(a--,l=0,d(["prevIndex","indexChanged"])):(a=0,l=0,d("begin"))},this.goto=e=>{const t=a>e?"prevIndex":"nextIndex";a=e<r()?e:r(),l=0,d(["goto",t,"indexChanged"])};const d=e=>{(Array.isArray(e)?e:[e]).forEach((e=>{i[e]&&i[e].forEach((t=>{t({name:e,currentIndex:a,currentStep:l,totalScenes:this.totalScenes(),totalSteps:c(),isFirst:this.isFirst(),isLast:this.isLast()})}))}))};if(this.on=(e,t)=>{i[e]||(i[e]=[]),i[e].push(t)},this.off=(e,t)=>{const o=i[e].indexOf(t);o>=0&&i[e].splice(o,1)},this.destroy=()=>{for(const e in i)i[e]=null,delete i[e]},this.totalScenes=()=>r()+1,this.totalSteps=()=>c(),this.currentIndex=()=>a,this.currentStep=()=>l,this.isFirst=()=>0===a,this.isLast=()=>a===r(),this.setCurrentIndex=e=>a=e,this.setCurrentStep=e=>l=e,this.controllers=s,this.dispatch=(e,t)=>{i[e]&&i[e].forEach((e=>{e(t)}))},t.controllers)for(const e in t.controllers){const n=t.controllers[e],r=T[e];if(r||console.log(`Controller "${e}" not found. Maybe you forgot to include it.`),n&&r){const i=new r(o,this,n,t);s[e]=i,n.ignorePad&&(i._el?i._el.classList.add(Ie):console.warn(`Controller ${e} uses ignorePad but _el is undefined`))}}d("indexChanged"),setTimeout((()=>{d("init"),setTimeout((()=>{d("inited")}))}))};var Re="scene_sceneContainer__IgSpB",qe="scene_scene__3uvTl",De="scene_wrapper__3yr1k",Me="scene_content__1rJf0",Ue="scene_viewport__3uNLS";e(".scene_sceneContainer__IgSpB{width:100%;height:100%;display:flex;align-items:center;justify-content:center;position:relative}.scene_scene__3uvTl{--presenta-sw:calc(var(--presenta-w)/var(--presenta-p)/var(--presenta-fz));--presenta-sh:calc(var(--presenta-h)/var(--presenta-p)/var(--presenta-fz));--presenta-scal:calc(var(--presenta-pw)/var(--presenta-p)/var(--presenta-pw)/var(--presenta-fz));width:var(--presenta-sw);height:var(--presenta-sh);font-family:serif;--sceneColorBack:var(--colorBack)}.scene_promise__24VCP{visibility:hidden}.scene_wrapper__3yr1k{width:var(--presenta-w);height:var(--presenta-h);transform:scale(1);transform:scale(var(--presenta-scal));transform-origin:top left;padding:var(--scenePadding);background:var(--sceneColorBack)}.scene_content__1rJf0{width:100%;height:100%;display:flex;flex-direction:column}.scene_viewport__3uNLS{width:100%;height:100%;position:relative;flex:1;overflow:hidden;display:flex;flex-direction:row}");var Ne="block_block__BWbaZ",Je="block_inner__3LS6s",We="block_subinner__3Mwvc";e(":root{--left:inherit;--top:inherit;--width:100%;--height:100%;--angle:0;--skew:0;--right:inherit;--bottom:inherit;--position:absolute;--radius:none}.block_block__BWbaZ{top:var(--top);left:var(--left);width:var(--width);height:var(--height);bottom:var(--bottom);right:var(--right);position:var(--position);--blockColor:var(--colorFore);--blockBorder:0;transform-origin:top left;transform:rotate(var(--angle)) skew(var(--skew))}.block_inner__3LS6s{opacity:var(--blockOpacity);mix-blend-mode:var(--blockBlend);-webkit-clip-path:var(--blockClip);clip-path:var(--blockClip);box-shadow:var(--blockShadow);overflow:hidden}.block_subinner__3Mwvc{width:100%;height:100%;background:var(--blockBackground);color:var(--blockColor);padding:var(--blockPadding);border-radius:var(--blockRadius);border-width:var(--blockBorder);border-style:solid;overflow:hidden}.block_inner__3LS6s{top:0;left:0;width:100%;height:100%;position:absolute}");const He=function(e,t){const o=this;return new Promise(((n,r)=>{o.type=t.aliasType||t.type,o.index=t._index;var i=null;const s=t._sceneConfig||{};t.contextType="block";let a=[];const l=[];if(!o.type)return console.warn("No `type` field found in block "+o.index);if(s.modules)for(const e in s.modules)if(t.hasOwnProperty("modules")||(t.modules={}),t.modules.hasOwnProperty(e))for(const o in s.modules[e])t.modules[e]&&!t.modules[e][o]&&(t.modules[e][o]=s.modules[e][o]);else t.modules[e]=s.modules[e];const c=t.id&&0===t.id.indexOf("#")?`id="${t.id.replace("#","")}"`:"",d=v.div(`<div class="block ${Ne} b b${o.index}">\n      <div ${c} class="blockContainer ${Je}"></div>\n    </div>`),p=d.querySelector(".blockContainer"),_=v.div(`<div class="blockInnerContainer ${We}">\n    </div>`),h=e=>{if(t.modules)for(const o in t.modules){const n=t.modules[o],r=re[o];if(r||console.log(`Module "${o}" not found in block. Maybe you forgot to include it.`),r&&n)if(!0===r.runBefore&&e)new r(d,n,t);else if(!r.runBefore&&!e){const e=new r(d,n,t);l.push(e)}}};if($e[o.type]){p.appendChild(_),h(!0);const e=new $e[o.type](_,t);Promise.all([e]).then((e=>{i=e[0],h(!1),Promise.all(l).then((e=>{a=e,n(o)}))}))}else console.log(`block "${o.type}" not found`),n(o);o.beforeDestroy=()=>{a.forEach((e=>{e.beforeDestroy&&e.beforeDestroy()})),i&&i.beforeDestroy&&i.beforeDestroy()},o.stepForward=(e,t)=>{i.stepForward&&i.stepForward(e,t)},o.destroy=()=>{i&&i.destroy&&i.destroy(),e.removeChild(d)},e.appendChild(d),t._el=d}))},Ye=e=>new function(e){this.clear=t=>(e.classList.remove(t),this),this.init=t=>(e.classList.add(t,"p-scene-enter-transition","p-scene-enter-start"),this),this.start=t=>(setTimeout((()=>{e.classList.remove("p-scene-enter-start"),e.classList.add("p-scene-enter-end")})),this),this.swap=()=>(e.classList.add("p-scene-enter-ended"),this),this.end=t=>(e.classList.remove("p-scene-enter-transition","p-scene-enter-end"),e.classList.add(t,"p-scene-leave-transition","p-scene-leave-start"),setTimeout((()=>{e.classList.add("p-scene-leave-end"),e.classList.remove("p-scene-leave-start")})),this)}(e),Ke=function(e,t,o,n){const r=this;return new Promise(((i,s)=>{let a=[],l=[];const c=[],d=[],p=[];if(t.contextType="scene",!t.blocks)return console.warn("No `blocks` array found in scene "+t.index);if(0===t.blocks.length&&console.warn("`blocks` is empty in scene "+t.index),o.modules)for(const e in o.modules)if(t.hasOwnProperty("modules")||(t.modules={}),t.modules.hasOwnProperty(e))for(const n in o.modules[e])t.modules[e]&&!t.modules[e][n]&&(t.modules[e][n]=o.modules[e][n]);else t.modules[e]=o.modules[e];let _=0;t._steps=[];const h=t._steps,u=v.div(`<div \n      class="s ${Re}">\n      <div class="sceneObject ${qe}">\n        <div class="sceneWrapper ${De}">\n            <div class="${Me}">\n                <div class="layout blocksContainer ${Ue}"></div>\n            </div>\n        </div>\n      </div>\n    </div>`);e.appendChild(u),t._el=u,t._rootElement=n,t._mode=o.mode,t._projectConfig=o;const f=e=>{if(t.modules)for(const o in t.modules){const n=t.modules[o],r=re[o];if(r||console.log(`Module "${o}" not found. Maybe you forgot to include it.`),r&&n)if(!0===r.runBefore&&e)d.push(new r(u,n,t));else if(!r.runBefore&&!e){const e=new r(u,n,t);p.push(e)}}};r.destroyAfter=e=>{const o=u.querySelector(".sceneObject"),n="backward"===t._presentatransdir?"to-right":"to-left",i="backward"===t._presentatransdir?"to-left":"to-right";Ye(o).clear(n).end(i);const s=e||0;l.forEach((e=>{e.beforeDestroy&&e.beforeDestroy()})),a.forEach((e=>{e.beforeDestroy&&e.beforeDestroy()})),setTimeout((()=>{r.destroy(),u.parentNode.removeChild(u)}),s)},r.stepForward=()=>{if(_<h.length){const e=h[_];l.forEach((t=>{t.stepForward&&t.stepForward(e,_)})),a.forEach((t=>{t.stepForward&&t.stepForward(e,_)})),_++}},r.destroy=()=>{l.forEach((e=>{e.destroy&&e.destroy()})),a.forEach((e=>{e.destroy&&e.destroy()}))},r.updateBlock=(e,o)=>{a[e].destroy(),o._index=e;const n=u.querySelector(".blocksContainer"),r=new He(n,o);Promise.all([r]).then((n=>{a[e]=n[0],t.blocks[e]=o}))},r.sceneConfig=t,(()=>{const e=u.querySelector(".sceneObject"),o="backward"===t._presentatransdir?"to-left":"to-right";Ye(e).init(o)})(),f(!0),Promise.all(d).then((e=>{t.blocks.forEach(((e,r)=>{e._index=r,e._portrait="portrait"===o._orientation,e._mode=o.mode,e._rootElement=n,e._sceneConfig=t;const i=u.querySelector(".blocksContainer");c.push(new He(i,e))})),Promise.all(c).then((e=>{a=e,f(!1),Promise.all(p).then((e=>{l=e,(()=>{const e=u.querySelector(".sceneObject");Ye(e).start(),setTimeout((()=>{Ye(e).swap()}),o._transitionDestroyDelay)})(),u.classList.add("presentaSceneMounted"),i(r)}))}))}))}))},Ve=function(e,t){const o=this;return new Promise(((n,r)=>{e.classList.add("presenta");const i=v.div(`<div class="${Le}"></div>`);i.setAttribute("tabindex","0"),e.appendChild(i);const s=v.div(`<div class="b ${Fe}"></div>`),a=v.div(`<div class="a ${Te}"></div>`);i.appendChild(s),s.appendChild(a);const l=t.scenes;l.forEach(((e,t)=>e.index=t));var c=[];const d=(e,r)=>{const s=[],d=e;if(d<l.length){const e=l[d];e._presentatransdir=r,e._router=p,s.push(new Ke(a,e,t,i))}Promise.all(s).then((e=>{c.forEach((e=>{e.destroyAfter&&(e.sceneConfig._presentatransdir=r,e.destroyAfter(t._transitionDestroyDelay))})),c=e,n(o)}))},p=new Oe(i,t);if(p.on("nextIndex",(e=>{d(e.currentIndex,"foreward")})),p.on("prevIndex",(e=>{d(e.currentIndex,"backward")})),p.on("stepChanged",(e=>{c.forEach((e=>{e.stepForward()}))})),p.on("init",(e=>{d(e.currentIndex,"foreward")})),window.ResizeObserver){new ResizeObserver((o=>{v.fit(a,t,e)})).observe(i)}o.destroy=()=>{c.forEach((e=>{e.destroy&&e.destroy()})),p.destroy()},o.updateBlock=(e,t)=>{c[0].updateBlock(e,t)},o.router=p,o.config=t}))},Xe={},Ge=[];let Qe=!1;const Ze=function(e){return new Promise(((t,o)=>{let n=0,r=0;0===e.length&&t(),e.forEach((e=>{var o;n++,Xe[e.url]?Qe?(e.url,Ge.push(t),r++):t():(Qe=!0,o=e.url,setTimeout((()=>{const e=document.createElement("script");e.onerror=e=>{console.log("[Plugin error]",e),r++,r===n&&(t(),Ge.forEach((e=>{e.resolve()})),Qe=!1)},e.onload=e=>{console.log("[Plugin loaded]"),r++,r===n&&(t(),Ge.forEach((e=>{e()})),Qe=!1)},document.body.appendChild(e),e.src=o}),n),Xe[e.url]=e)}))}))};const et=(e,t,o)=>{Object.keys(t).forEach((n=>{const r=e[n];r&&r.init&&r.init(t[n]),o.push({plugin:r,conf:t[n],key:n})}))};const tt=function(e,t){if(!e||!t)return new Promise(((e,t)=>{t({message:"Missing required parameters, wrapper or config."})}));const o=(e=>{const t=[];return e.version&&t.push({message:"Config version is different from Library version"}),e.scenes||t.push({hard:!0,message:"No `scenes` array found"}),e.scenes.forEach(((e,o)=>{e.blocks||t.push({hard:!0,message:`No 'blocks' array in scene ${o} found`})})),0===e.scenes.length&&t.push({hard:!0,message:"`scenes` is empty"}),t})(t);if(o.filter((e=>e.hard)).length>0)return new Promise(((e,t)=>{t(o)}));o.length>0&&o.forEach((e=>console.warn(e.message))),(e=>{const t={aspect:1.6,adapt:!1,mode:"present",controllers:{},modules:{},plugins:[],_transitionDestroyDelay:1e3};for(const o in t)e.hasOwnProperty(o)||(e[o]=t[o])})(t);const n=v.select(e);t._root=n;const r=new Ee(n,t);return new Promise(((e,o)=>{new Ze(t.plugins).then((()=>{const o=(e=>{const t=[];et(T,e.controllers,t),et(re,e.modules,t);const o=[];e.scenes.forEach((e=>{e.blocks.forEach((e=>{-1===o.indexOf(e.type)&&o.push(e.type)}))}));const n=[];o.forEach((e=>n[e]=!0)),et($e,n,t);const r=[];return t.forEach((t=>{const o=t.plugin,n=t.conf;o&&o.run&&r.push(o.run(e,n))})),r})(t);Promise.all(o).then((o=>{e(new Ve(n,t)),r.destroy()}))}))}))};return tt.version="0.1.19",tt.addBlock=(e,t,o)=>{if($e[e])return console.warn(`block type ${e} already defined`);o&&$e[e]&&console.warn(`block type ${e} was overriden`),$e[e]=t},tt.addController=(e,t,o)=>{if(T[e])return console.warn(`controller io ${e} already defined`);o&&T[e]&&console.warn(`controller type ${e} was overriden`),T[e]=t},tt.addModule=(e,t,o)=>{if(!o&&re[e])return console.warn(`module type ${e} already defined`);o&&re[e]&&console.warn(`module type ${e} was overriden`),re[e]=t},tt.installed={controllers:T,modules:re,blocks:$e},tt.addGlob=v.addGlob,tt.addProp=v.addProp,tt.io=v.io,tt.interpolate=y,tt.addBlockMainKey=h,tt.blocksMainKey=_,tt.use=e=>{e.install(tt)},tt}));
